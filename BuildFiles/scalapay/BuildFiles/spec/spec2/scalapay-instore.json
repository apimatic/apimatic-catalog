{"openapi":"3.0.1","info":{"title":"Instore API","description":"sync with README","version":"1.0"},"servers":[{"url":"https://integration.api.scalapay.com"}],"security":[{"ApiKeyAuth":[]}],"paths":{"/v1/instore/orders":{"post":{"summary":"create instore order","description":"Confirm an order and set it to charged","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/v1order_body"},"examples":{"0":{"value":"{  \r\n    \"merchantOperatorId\": \"Test Securitization Staging\",\r\n    \"requestId\": \"EKMXO6QFN\",\r\n    \"preApprovalCode\": \"85633887\",\r\n    \"totalAmount\": {  \r\n        \"amount\": \"10.00\",\r\n        \"currency\": \"EUR\"\r\n    },\r\n    \"items\":[  \r\n         {\r\n             \"name\": \"T-Shirt\",\r\n             \"category\": \"clothes\",\r\n             \"subcategory\": [\"shirt\", \"long-sleeve\"],\r\n             \"brand\": \"TopChoice\",\r\n             \"gtin\": \"123458791330\",\r\n             \"sku\": \"12341234\",\r\n             \"quantity\": 1,\r\n             \"price\": {\r\n                 \"amount\": \"10.00\",\r\n                 \"currency\": \"EUR\"\r\n             }\r\n         },\r\n         {\r\n             \"name\": \"Jeans\",\r\n             \"category\": \"clothes\",\r\n             \"subcategory\": [\"pants\", \"jeans\"],\r\n             \"brand\": \"TopChoice\",\r\n             \"gtin\": \"123458722222\",\r\n             \"sku\": \"12341235\",\r\n             \"quantity\": 1,\r\n             \"price\": {\r\n                 \"amount\": \"20.00\",\r\n                 \"currency\": \"EUR\"\r\n             }\r\n         }\r\n    ],\r\n    \"merchantReference\": \"merchantOrder-1234\"\r\n  }"}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"examples":{"0":{"value":"{\"requestId\":\"EKMXO6QFN\",\"token\":\"769DKMXOC52H\",\"status\":\"charged\"}"}}}}}},"servers":[{"url":"https://integration.api.scalapay.com"}]},"servers":[{"url":"https://integration.api.scalapay.com"}]},"/v1/instore/orders/{token}/refund":{"post":{"summary":"refund instore order","description":"Refund an instore order","parameters":[{"name":"token","in":"path","description":"Order Token","required":true,"style":"simple","explode":false,"schema":{"minimum":1,"type":"string","format":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/refund_body"},"examples":{"0":{"value":"{\r\n\t\"merchantOperatorId\": \"Test Securitization Staging\",\r\n\t\"requestId\": \"EKMXO6QFN\",\r\n\t\"refundAmount\": {\r\n\t\t\"amount\": \"10.00\",\r\n\t\t\"currency\": \"EUR\"\r\n\t}\r\n }"}}}}},"responses":{"200":{"description":"Description","content":{"application/json":{"examples":{"0":{"value":"{\"token\":\"769DKMXOC52H\",\"amount\":{\"amount\":\"10.00\",\"currency\":\"EUR\"},\"refundToken\":\"pre_transfer\",\"refundedAt\":\"2021-03-31T16:42:40.276Z\"}"}}}}}},"servers":[{"url":"https://integration.api.scalapay.com"}]},"servers":[{"url":"https://integration.api.scalapay.com"}]},"/v1/instore/orders/{token}":{"get":{"summary":"update instore order","description":"Check instore order status","parameters":[{"name":"token","in":"path","description":"Order Token","required":true,"style":"simple","explode":false,"schema":{"minimum":1,"type":"string","format":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"examples":{"0":{"value":"{\"token\":\"769DKMXOC52H\",\"status\":\"charged\"}"}}}}}},"servers":[{"url":"https://integration.api.scalapay.com"}]},"servers":[{"url":"https://integration.api.scalapay.com"}]}},"components":{"schemas":{"v1instoreorders_items":{"type":"object","properties":{"gtin":{"type":"string"},"quantity":{"type":"integer"},"price":{"$ref":"#/components/schemas/v1instoreorders_totalAmount"},"name":{"type":"string"},"category":{"type":"string"},"subcategory":{"type":"array","items":{"type":"string"}},"sku":{"type":"string"},"brand":{"type":"string"}}},"refund_body":{"required":["merchantOperatorId","refundAmount","requestId"],"type":"object","properties":{"requestId":{"type":"string"},"merchantOperatorId":{"type":"string"},"refundAmount":{"$ref":"#/components/schemas/v1instoreorders_totalAmount"}}},"v1instoreorders_totalAmount":{"required":["amount","currency"],"type":"object","properties":{"amount":{"type":"string"},"currency":{"type":"string"}}},"v1order_body":{"required":["merchantOperatorId","merchantReference","preApprovalCode","requestId","totalAmount"],"type":"object","properties":{"totalAmount":{"$ref":"#/components/schemas/v1instoreorders_totalAmount"},"preApprovalCode":{"type":"string","description":"Mandatory"},"requestId":{"type":"string","description":"Mandatory"},"merchantOperatorId":{"type":"string","description":"Mandatory"},"items":{"type":"array","items":{"$ref":"#/components/schemas/v1instoreorders_items"}},"merchantReference":{"type":"string"}}}},"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","name":"Authorization","in":"header","x-default":"Bearer testdeviceapikey"}}},"x-samples-enabled":true,"x-explorer-enabled":true,"x-readme":{"proxy-enabled":true}}