{
	"info": {
		"_postman_id": "1d4083bd-0aad-47b8-be51-34aec12dc1e6",
		"name": "sandbox.payfast.co.za",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "31599778"
	},
	"item": [
		{
			"name": "ping PayFast API",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"//A Collection Pre-request Script will execute before every request in this collection"
						]
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "merchant-id",
						"value": "{{merchant-id}}",
						"description": "Merchant ID as given by the PayFast system e.g. 10000100",
						"type": "text"
					},
					{
						"key": "version",
						"value": "v1",
						"description": "PayFast API version e.g. v1",
						"type": "text"
					},
					{
						"key": "timestamp",
						"value": "{{timestamp}}",
						"description": "Current timestamp,YYYY-MM-DDTHH:MM:SS[+HH:MM] e.g. 2020-03-23T09:46:06 !This value is generated by Pre-request Script!",
						"type": "text"
					},
					{
						"key": "signature",
						"value": "{{signature}}",
						"description": "MD5 hash, characters must be in lower case",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "https://api.payfast.co.za/ping{{testing}}",
					"protocol": "https",
					"host": [
						"api",
						"payfast",
						"co",
						"za"
					],
					"path": [
						"ping{{testing}}"
					]
				},
				"description": "Used to check if the API is responding to requests."
			},
			"response": []
		},
		{
			"name": "pause Subscription",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"//A Collection Pre-request Script will execute before every request in this collection"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "merchant-id",
						"value": "{{merchant-id}}",
						"description": "Merchant ID as given by the PayFast system e.g. 10000100",
						"type": "text"
					},
					{
						"key": "version",
						"value": "v1",
						"description": "PayFast API version e.g. v1",
						"type": "text"
					},
					{
						"key": "timestamp",
						"value": "{{timestamp}}",
						"description": "Current timestamp,YYYY-MM-DDTHH:MM:SS[+HH:MM] e.g. 2020-03-23T09:46:06 !This value is generated by Pre-request Script!",
						"type": "text"
					},
					{
						"key": "signature",
						"value": "{{signature}}",
						"description": "MD5 hash, characters must be in lower case",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "cycles",
							"value": "1",
							"description": "Optional. Number of cycles to pause the subscription for. Default is 1 if not given.",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "https://api.payfast.co.za/subscriptions/{{subscription_token}}/pause{{testing}}",
					"protocol": "https",
					"host": [
						"api",
						"payfast",
						"co",
						"za"
					],
					"path": [
						"subscriptions",
						"{{subscription_token}}",
						"pause{{testing}}"
					]
				},
				"description": "Pause a subscription, for a duration indicated by an oprional ‘cycles’ payload variable. Default is 1 if not given."
			},
			"response": []
		},
		{
			"name": "unpause Subscription",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"//A Collection Pre-request Script will execute before every request in this collection"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "merchant-id",
						"value": "{{merchant-id}}",
						"description": "Merchant ID as given by the PayFast system e.g. 10000100",
						"type": "text"
					},
					{
						"key": "version",
						"value": "v1",
						"description": "PayFast API version e.g. v1",
						"type": "text"
					},
					{
						"key": "timestamp",
						"value": "{{timestamp}}",
						"description": "Current timestamp,YYYY-MM-DDTHH:MM:SS[+HH:MM] e.g. 2020-03-23T09:46:06 !This value is generated by Pre-request Script!",
						"type": "text"
					},
					{
						"key": "signature",
						"value": "{{signature}}",
						"description": "MD5 hash, characters must be in lower case",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "https://api.payfast.co.za/subscriptions/{{subscription_token}}/unpause{{testing}}",
					"protocol": "https",
					"host": [
						"api",
						"payfast",
						"co",
						"za"
					],
					"path": [
						"subscriptions",
						"{{subscription_token}}",
						"unpause{{testing}}"
					]
				},
				"description": "Unpause a subscription"
			},
			"response": []
		},
		{
			"name": "cancel Subscription",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"//A Collection Pre-request Script will execute before every request in this collection"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "merchant-id",
						"value": "{{merchant-id}}",
						"description": "Merchant ID as given by the PayFast system e.g. 10000100",
						"type": "text"
					},
					{
						"key": "version",
						"value": "v1",
						"description": "PayFast API version e.g. v1",
						"type": "text"
					},
					{
						"key": "timestamp",
						"value": "{{timestamp}}",
						"description": "Current timestamp,YYYY-MM-DDTHH:MM:SS[+HH:MM] e.g. 2020-03-23T09:46:06 !This value is generated by Pre-request Script!",
						"type": "text"
					},
					{
						"key": "signature",
						"value": "{{signature}}",
						"description": "MD5 hash, characters must be in lower case",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "https://api.payfast.co.za/subscriptions/{{subscription_token}}/cancel{{testing}}",
					"protocol": "https",
					"host": [
						"api",
						"payfast",
						"co",
						"za"
					],
					"path": [
						"subscriptions",
						"{{subscription_token}}",
						"cancel{{testing}}"
					]
				},
				"description": "This will cancel a subscription entirely."
			},
			"response": []
		},
		{
			"name": "update Subscription",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"//A Collection Pre-request Script will execute before every request in this collection"
						]
					}
				}
			],
			"request": {
				"method": "PATCH",
				"header": [
					{
						"key": "merchant-id",
						"value": "{{merchant-id}}",
						"description": "Merchant ID as given by the PayFast system e.g. 10000100",
						"type": "text"
					},
					{
						"key": "version",
						"value": "v1",
						"description": "PayFast API version e.g. v1",
						"type": "text"
					},
					{
						"key": "timestamp",
						"value": "{{timestamp}}",
						"description": "Current timestamp,YYYY-MM-DDTHH:MM:SS[+HH:MM] e.g. 2020-03-23T09:46:06 !This value is generated by Pre-request Script!",
						"type": "text"
					},
					{
						"key": "signature",
						"value": "{{signature}}",
						"description": "MD5 hash, characters must be in lower case",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "cycles",
							"value": "0",
							"description": "Optional. Number of cycles to pause the subscription for. Default is 1 if not given.",
							"type": "text"
						},
						{
							"key": "frequency",
							"value": "3",
							"description": "Optional. Frequency for the subscription",
							"type": "text"
						},
						{
							"key": "run_date",
							"value": "2020-08-11",
							"description": "Optional. Next run date for the subscription.",
							"type": "text"
						},
						{
							"key": "amount",
							"value": "2500",
							"description": "Optional. Amount which the buyer must pay, in CENTS (ZAR).",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "https://api.payfast.co.za/subscriptions/{{subscription_token}}/update{{testing}}",
					"protocol": "https",
					"host": [
						"api",
						"payfast",
						"co",
						"za"
					],
					"path": [
						"subscriptions",
						"{{subscription_token}}",
						"update{{testing}}"
					]
				},
				"description": "This allows for multiple subscription values to be updated. \nThe body must contain at least one of the optional payload variables."
			},
			"response": []
		},
		{
			"name": "fetch Subscription",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"//A Collection Pre-request Script will execute before every request in this collection"
						]
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "merchant-id",
						"value": "{{merchant-id}}",
						"description": "Merchant ID as given by the PayFast system e.g. 10000100",
						"type": "text"
					},
					{
						"key": "version",
						"value": "v1",
						"description": "PayFast API version e.g. v1",
						"type": "text"
					},
					{
						"key": "timestamp",
						"value": "{{timestamp}}",
						"description": "Current timestamp,YYYY-MM-DDTHH:MM:SS[+HH:MM] e.g. 2020-03-23T09:46:06 !This value is generated by Pre-request Script!",
						"type": "text"
					},
					{
						"key": "signature",
						"value": "{{signature}}",
						"description": "MD5 hash, characters must be in lower case",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "https://api.payfast.co.za/subscriptions/{{subscription_token}}/fetch{{testing}}",
					"protocol": "https",
					"host": [
						"api",
						"payfast",
						"co",
						"za"
					],
					"path": [
						"subscriptions",
						"{{subscription_token}}",
						"fetch{{testing}}"
					]
				},
				"description": "Returns a JSON object containing the subscription details"
			},
			"response": []
		},
		{
			"name": "adhoc tokenization agreement(adhoc) charge",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"//A Collection Pre-request Script will execute before every request in this collection"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "merchant-id",
						"value": "{{merchant-id}}",
						"description": "Merchant ID as given by the PayFast system e.g. 10000100",
						"type": "text"
					},
					{
						"key": "version",
						"value": "v1",
						"description": "PayFast API version e.g. v1",
						"type": "text"
					},
					{
						"key": "timestamp",
						"value": "{{timestamp}}",
						"description": "Current timestamp,YYYY-MM-DDTHH:MM:SS[+HH:MM] e.g. 2020-03-23T09:46:06 !This value is generated by Pre-request Script!",
						"type": "text"
					},
					{
						"key": "signature",
						"value": "{{signature}}",
						"description": "MD5 hash, characters must be in lower case",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": [
						{
							"key": "amount",
							"value": "2500",
							"description": "Required. Amount which the buyer must pay, in CENTS (ZAR).",
							"type": "text"
						},
						{
							"key": "item_name",
							"value": "Stuff",
							"description": "Required. Name of the item being charged for.",
							"type": "text"
						},
						{
							"key": "item_description",
							"value": "",
							"description": "Optional.  Description of the item being charged for.",
							"type": "text",
							"disabled": true
						},
						{
							"key": "itn",
							"value": "",
							"description": "Optional.  Specify whether an ITN must be sent for the ad hoc charge (1 by default).",
							"type": "text",
							"disabled": true
						},
						{
							"key": "m_payment_id",
							"value": "INV_001370",
							"description": "Optional. Unique payment ID on the merchant’s system.",
							"type": "text"
						},
						{
							"key": "cc_cvv",
							"value": "",
							"description": "Optional. Credit card cvv number.",
							"type": "text",
							"disabled": true
						},
						{
							"key": "setup",
							"value": "{\"split_payment\": {\"merchant_id\":10000105,\"percentage\":10,\"amount\":1000,\"min\":100,\"max\":100000}}",
							"description": "Optional. Split receiving merchant_id, percentage and/or amount with oiptional min/max values in CENTS (ZAR).",
							"type": "text"
						}
					]
				},
				"url": {
					"raw": "https://api.payfast.co.za/subscriptions/{{adhoc_token}}/adhoc{{testing}}",
					"protocol": "https",
					"host": [
						"api",
						"payfast",
						"co",
						"za"
					],
					"path": [
						"subscriptions",
						"{{adhoc_token}}",
						"adhoc{{testing}}"
					]
				},
				"description": "Charge an ad hoc subscription based on token."
			},
			"response": []
		},
		{
			"name": "fetch tokenization agreement(adhoc)",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"//A Collection Pre-request Script will execute before every request in this collection"
						]
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "merchant-id",
						"value": "{{merchant-id}}",
						"description": "Merchant ID as given by the PayFast system e.g. 10000100",
						"type": "text"
					},
					{
						"key": "version",
						"value": "v1",
						"description": "PayFast API version e.g. v1",
						"type": "text"
					},
					{
						"key": "timestamp",
						"value": "{{timestamp}}",
						"description": "Current timestamp,YYYY-MM-DDTHH:MM:SS[+HH:MM] e.g. 2020-03-23T09:46:06 !This value is generated by Pre-request Script!",
						"type": "text"
					},
					{
						"key": "signature",
						"value": "{{signature}}",
						"description": "MD5 hash, characters must be in lower case",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "https://api.payfast.co.za/subscriptions/{{adhoc_token}}/fetch{{testing}}",
					"protocol": "https",
					"host": [
						"api",
						"payfast",
						"co",
						"za"
					],
					"path": [
						"subscriptions",
						"{{adhoc_token}}",
						"fetch{{testing}}"
					]
				},
				"description": "Returns a JSON object containing the subscription details"
			},
			"response": []
		},
		{
			"name": "cancel Subscription tokenization agreement(adhoc)",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"//A Collection Pre-request Script will execute before every request in this collection"
						]
					}
				}
			],
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "merchant-id",
						"value": "{{merchant-id}}",
						"description": "Merchant ID as given by the PayFast system e.g. 10000100",
						"type": "text"
					},
					{
						"key": "version",
						"value": "v1",
						"description": "PayFast API version e.g. v1",
						"type": "text"
					},
					{
						"key": "timestamp",
						"value": "{{timestamp}}",
						"description": "Current timestamp,YYYY-MM-DDTHH:MM:SS[+HH:MM] e.g. 2020-03-23T09:46:06 !This value is generated by Pre-request Script!",
						"type": "text"
					},
					{
						"key": "signature",
						"value": "{{signature}}",
						"description": "MD5 hash, characters must be in lower case",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "https://api.payfast.co.za/subscriptions/{{adhoc_token}}/cancel{{testing}}",
					"protocol": "https",
					"host": [
						"api",
						"payfast",
						"co",
						"za"
					],
					"path": [
						"subscriptions",
						"{{adhoc_token}}",
						"cancel{{testing}}"
					]
				},
				"description": "This will cancel a subscription entirely."
			},
			"response": []
		},
		{
			"name": "history",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"//A Collection Pre-request Script will execute before every request in this collection"
						]
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "merchant-id",
						"value": "{{merchant-id}}",
						"description": "Merchant ID as given by the PayFast system e.g. 10000100",
						"type": "text"
					},
					{
						"key": "version",
						"value": "v1",
						"description": "PayFast API version e.g. v1",
						"type": "text"
					},
					{
						"key": "timestamp",
						"value": "{{timestamp}}",
						"description": "Current timestamp,YYYY-MM-DDTHH:MM:SS[+HH:MM] e.g. 2020-03-23T09:46:06 !This value is generated by Pre-request Script!",
						"type": "text"
					},
					{
						"key": "signature",
						"value": "{{signature}}",
						"description": "MD5 hash, characters must be in lower case",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "https://api.payfast.co.za/transactions/history?from=2020-08-01&to=2020-08-07&testing=true",
					"protocol": "https",
					"host": [
						"api",
						"payfast",
						"co",
						"za"
					],
					"path": [
						"transactions",
						"history"
					],
					"query": [
						{
							"key": "from",
							"value": "2020-08-01",
							"description": "Optional. Start date for the time period. Defaults to current month"
						},
						{
							"key": "to",
							"value": "2020-08-07",
							"description": "Optional. End date for the time period. Defaults to current date"
						},
						{
							"key": "testing",
							"value": "true",
							"description": "Optional. Sandbox testmode, uncheck for live"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "daily",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"//A Collection Pre-request Script will execute before every request in this collection"
						]
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "merchant-id",
						"value": "{{merchant-id}}",
						"description": "Merchant ID as given by the PayFast system e.g. 10000100",
						"type": "text"
					},
					{
						"key": "version",
						"value": "v1",
						"description": "PayFast API version e.g. v1",
						"type": "text"
					},
					{
						"key": "timestamp",
						"value": "{{timestamp}}",
						"description": "Current timestamp,YYYY-MM-DDTHH:MM:SS[+HH:MM] e.g. 2020-03-23T09:46:06 !This value is generated by Pre-request Script!",
						"type": "text"
					},
					{
						"key": "signature",
						"value": "{{signature}}",
						"description": "MD5 hash, characters must be in lower case",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "https://api.payfast.co.za/transactions/history/daily?date=2020-08-07&testing=true",
					"protocol": "https",
					"host": [
						"api",
						"payfast",
						"co",
						"za"
					],
					"path": [
						"transactions",
						"history",
						"daily"
					],
					"query": [
						{
							"key": "date",
							"value": "2020-08-07",
							"description": "Optional. Date for the time period. Defaults to current date"
						},
						{
							"key": "testing",
							"value": "true",
							"description": "Optional. Sandbox testmode, uncheck for live"
						}
					]
				},
				"description": "Obtain the transaction history for a given daily period."
			},
			"response": []
		},
		{
			"name": "weekly",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"//A Collection Pre-request Script will execute before every request in this collection"
						]
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "merchant-id",
						"value": "{{merchant-id}}",
						"description": "Merchant ID as given by the PayFast system e.g. 10000100",
						"type": "text"
					},
					{
						"key": "version",
						"value": "v1",
						"description": "PayFast API version e.g. v1",
						"type": "text"
					},
					{
						"key": "timestamp",
						"value": "{{timestamp}}",
						"description": "Current timestamp,YYYY-MM-DDTHH:MM:SS[+HH:MM] e.g. 2020-03-23T09:46:06 !This value is generated by Pre-request Script!",
						"type": "text"
					},
					{
						"key": "signature",
						"value": "{{signature}}",
						"description": "MD5 hash, characters must be in lower case",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "https://api.payfast.co.za/transactions/history/weekly?date=2020-08-07&testing=true",
					"protocol": "https",
					"host": [
						"api",
						"payfast",
						"co",
						"za"
					],
					"path": [
						"transactions",
						"history",
						"weekly"
					],
					"query": [
						{
							"key": "date",
							"value": "2020-08-07",
							"description": "Optional. Date for the time period. Defaults to current week"
						},
						{
							"key": "testing",
							"value": "true",
							"description": "Optional. Sandbox testmode, uncheck for live"
						}
					]
				},
				"description": "Obtain the transaction history for a given weekly period."
			},
			"response": []
		},
		{
			"name": "monthly",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"//A Collection Pre-request Script will execute before every request in this collection"
						]
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "merchant-id",
						"value": "{{merchant-id}}",
						"description": "Merchant ID as given by the PayFast system e.g. 10000100",
						"type": "text"
					},
					{
						"key": "version",
						"value": "v1",
						"description": "PayFast API version e.g. v1",
						"type": "text"
					},
					{
						"key": "timestamp",
						"value": "{{timestamp}}",
						"description": "Current timestamp,YYYY-MM-DDTHH:MM:SS[+HH:MM] e.g. 2020-03-23T09:46:06 !This value is generated by Pre-request Script!",
						"type": "text"
					},
					{
						"key": "signature",
						"value": "{{signature}}",
						"description": "MD5 hash, characters must be in lower case",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "https://api.payfast.co.za/transactions/history/monthly?date=2020-08&testing=true",
					"protocol": "https",
					"host": [
						"api",
						"payfast",
						"co",
						"za"
					],
					"path": [
						"transactions",
						"history",
						"monthly"
					],
					"query": [
						{
							"key": "date",
							"value": "2020-08",
							"description": "Optional. Date for the time period. Defaults to current month"
						},
						{
							"key": "testing",
							"value": "true",
							"description": "Optional. Sandbox testmode, uncheck for live"
						}
					]
				},
				"description": "Obtain the transaction history for a given monthly period."
			},
			"response": []
		},
		{
			"name": "query",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"//A Collection Pre-request Script will execute before every request in this collection"
						]
					}
				}
			],
			"protocolProfileBehavior": {
				"disableBodyPruning": true
			},
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "merchant-id",
						"value": "{{merchant-id}}",
						"description": "Merchant ID as given by the PayFast system e.g. 10000100",
						"type": "text"
					},
					{
						"key": "version",
						"value": "v1",
						"description": "PayFast API version e.g. v1",
						"type": "text"
					},
					{
						"key": "timestamp",
						"value": "{{timestamp}}",
						"description": "Current timestamp,YYYY-MM-DDTHH:MM:SS[+HH:MM] e.g. 2020-03-23T09:46:06 !This value is generated by Pre-request Script!",
						"type": "text"
					},
					{
						"key": "signature",
						"value": "{{signature}}",
						"description": "MD5 hash, characters must be in lower case",
						"type": "text"
					}
				],
				"body": {
					"mode": "urlencoded",
					"urlencoded": []
				},
				"url": {
					"raw": "https://api.payfast.co.za/process/query/{{TransactionToken/PayfastPaymentID}}{{testing}}",
					"protocol": "https",
					"host": [
						"api",
						"payfast",
						"co",
						"za"
					],
					"path": [
						"process",
						"query",
						"{{TransactionToken/PayfastPaymentID}}{{testing}}"
					]
				},
				"description": "Query a credit card transaction."
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"//Set timestanmp",
					"const dateNow= new Date();",
					"pm.collectionVariables.set('timestamp', dateNow.toISOString().slice(0,19));",
					"",
					"var header = pm.request.headers.toObject(true);",
					"var body = pm.request.body.urlencoded.toObject(true);",
					"var urlParams = pm.request.url.query.toObject(true);",
					"var data = {",
					"    ...header,",
					"    ...body,",
					"    ...urlParams",
					"};",
					"",
					"data['passphrase'] = pm.environment.get(\"passphrase\");",
					"",
					"//sort variables alphabetically",
					"data = Object.entries(data).sort((a, b) => a[0].localeCompare(b[0]));",
					"console.log(data);",
					"",
					"var str1 = \"\";",
					"for (const [key, value] of data) {",
					"        if((value !='')&&(key != 'signature')&&(key != 'testing'))",
					"        { ",
					"            str1 = str1+key+'='+encodeURIComponent(replaceVariables(value))+'&';",
					"        }",
					"}",
					"",
					"str1 = str1.slice(0, -1);",
					"",
					"console.log(`Payload String: ${str1}`);",
					"",
					"var hash = CryptoJS.MD5(str1).toString();",
					"",
					"pm.collectionVariables.set('signature',hash);",
					"",
					"console.log('signature: '+pm.collectionVariables.get(\"signature\"));",
					"",
					"//This function is used to retrieve colletion variables {{variable}} in Postman",
					"function replaceVariables(templateString) {",
					"",
					"    let tokens = _.uniq(templateString.match(/{{.+}}/g))",
					"    _.forEach(tokens, t => {",
					"       let variable = t.replace(/[{}]/g, ''); ",
					"       let value = pm.variables.get(variable);",
					"       templateString = templateString.replace(new RegExp(t,'g'), value);",
					"    });",
					"    ",
					"    return templateString",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "timestamp",
			"value": "",
			"type": "string"
		},
		{
			"key": "signature",
			"value": "",
			"type": "string"
		}
	]
}