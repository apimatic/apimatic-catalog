{"openapi":"3.0.0","info":{"title":"DevPortal (Main API): OAuth API","description":"Luminor agnostic API definitions","contact":{"email":"openbanking@luminorgroup.com"},"version":"1.0.2"},"servers":[{"url":"https://api.developer.luminoropenbanking.com/"}],"tags":[{"name":"User authentication","description":"Set of endpoints used for user authentication"}],"paths":{"/v1/openam/oauth2/access_token":{"post":{"tags":["User authentication"],"summary":"Get access token","description":"Returns access and refresh tokens","operationId":"getAccessToken","parameters":[{"name":"tgtcookie","in":"cookie","description":"Cookie tgtcookie is to be set with id token value in case grant_type value is refresh_token.","required":false,"style": "form","explode":true,"schema":{"type":"string","exampleSetFlag":false},"example":"tgtcookie=id_token"},{"name":"Content-Type","in":"header","description":"Type of content","required":true,"style":"SIMPLE","explode":false,"schema":{"type":"string","exampleSetFlag":false,"enum":["application/x-www-form-urlencoded"]}},{"name":"client_id","in":"query","description":"TPP application ID","required":true,"style": "form","explode":true,"schema":{"type":"string","exampleSetFlag":false},"example":"6cbd59cd-0801-448e-a5dc-b0e44326a085"},{"name":"client_secret","in":"query","description":"Client secret used only in Developer's Portal. Not used in production.","required":true,"style": "form","explode":true,"schema":{"type":"string","exampleSetFlag":false},"example":"5urBFlBYFUAwtrZMtsa5Y0KLVhlKmNunBiszauwNMgzzWc9hKXpSr5pz2jLaPgtOz7DrtUOk"},{"name":"code","in":"query","description":"Authorization code received after successful authentication. Required if parameter 'grant_type' value is 'authorization_code'","required":false,"style": "form","explode":true,"schema":{"type":"string","exampleSetFlag":false},"example":"zlSnMys1C0EE7MqToPYsAaxp45s.CJRy_dfSNb0hg8TInxU5cZkDxa4"},{"name":"grant_type","in":"query","description":"Type of the code: 'authorization_code' - to get new tokens, 'refresh_token' - to refresh access token","required":true,"style": "form","explode":true,"schema":{"type":"string","exampleSetFlag":false,"enum":["authorization_code","refresh_token"]}},{"name":"redirect_uri","in":"query","description":"Redirect URI after successful login","required":true,"style": "form","explode":true,"schema":{"type":"string","exampleSetFlag":false},"example":"https://www.application.tpp:8080/home"},{"name":"realm","in":"query","description":"Realm identifier","required":true,"style": "form","explode":true,"schema":{"type":"string","exampleSetFlag":false,"enum":["psd2"]}},{"name":"refresh_token","in":"query","description":"Refresh token. Required if parameter 'grant_type' value is 'refresh_token'","required":false,"style": "form","explode":true,"schema":{"type":"string","exampleSetFlag":false},"example":"Ip-OJOQke4EifwjfRcFr7pXBYQc"}],"responses":{"200":{"description":"OK","headers":{"Content-Type":{"description":"Type of content (application/json)","style":"SIMPLE","explode":false,"schema":{"type":"string","exampleSetFlag":false,"enum":["application/x-www-form-urlencoded"]}}},"content":{"application/json":{"schema":{"$ref":"#/components/schemas/inline_response_200","exampleSetFlag":false},"exampleSetFlag":false}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/inline_response_400","exampleSetFlag":false},"exampleSetFlag":false}}},"404":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/inline_response_400","exampleSetFlag":false},"exampleSetFlag":false}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/inline_response_400","exampleSetFlag":false},"exampleSetFlag":false}}}}}}},"components":{"schemas":{"accessTokenEnv":{"type":"object","properties":{"access_token":{"type":"string","description":"Access token","example":"UmjB-PasBWlzuKCJLnd3DDUnytI","exampleSetFlag":true},"scope":{"type":"string","description":"Defined scope of authorization","example":"aspsp","exampleSetFlag":true},"id_token":{"type":"string","description":"ID token","example":"eyJ0eXAiOiJKV1QiLCJraWQiOiJ3VTNpZklJYUxPVUFSZVJCL0Z...","exampleSetFlag":true},"refresh_token":{"type":"string","description":"Refresh token","example":"Ip-OJOQke4EifwjfRcFr7pXBYQc","exampleSetFlag":true},"token_type":{"type":"string","description":"Token type","example":"Bearer","exampleSetFlag":true},"expires_in":{"type":"number","description":"Access token expiration time in seconds","example":3599,"exampleSetFlag":true},"auth_method":{"type":"string","description":"Authentication method, which was used during login","example":"smartid","exampleSetFlag":true,"enum":["smartid","mobileid","idcard","pincalc"]}},"exampleSetFlag":false},"contentType":{"type":"string","exampleSetFlag":false,"enum":["application/x-www-form-urlencoded"]},"errorResponse":{"type":"object","properties":{"errors":{"type":"array","description":"error details","exampleSetFlag":false,"items":{"$ref":"#/components/schemas/errorResponse_errors","exampleSetFlag":false}}},"exampleSetFlag":false},"error":{"required":["category","code"],"properties":{"category":{"type":"string","description":"Error category. Only \"ERROR\" or \"WARNING\" permitted","example":"ERROR","exampleSetFlag":true,"enum":["ERROR","WARNING"]},"code":{"type":"string","description":"Error message code","example":"FORMAT_ERROR","exampleSetFlag":true},"text":{"type":"string","description":"Additional explaining text","example":"Review query parameters","exampleSetFlag":true}},"exampleSetFlag":false},"inline_response_200":{"type":"object","properties":{"access_token":{"type":"string","description":"Access token","example":"UmjB-PasBWlzuKCJLnd3DDUnytI","exampleSetFlag":true},"scope":{"type":"string","description":"Defined scope of authorization","example":"aspsp","exampleSetFlag":true},"id_token":{"type":"string","description":"ID token","example":"eyJ0eXAiOiJKV1QiLCJraWQiOiJ3VTNpZklJYUxPVUFSZVJCL0Z...","exampleSetFlag":true},"refresh_token":{"type":"string","description":"Refresh token","example":"Ip-OJOQke4EifwjfRcFr7pXBYQc","exampleSetFlag":true},"token_type":{"type":"string","description":"Token type","example":"Bearer","exampleSetFlag":true},"expires_in":{"type":"number","description":"Access token expiration time in seconds","example":3599,"exampleSetFlag":true},"auth_method":{"type":"string","description":"Authentication method, which was used during login","example":"smartid","exampleSetFlag":true,"enum":["smartid","mobileid","idcard","pincalc"]}},"exampleSetFlag":false},"inline_response_400":{"type":"object","properties":{"errors":{"type":"array","description":"error details","exampleSetFlag":false,"items":{"$ref":"#/components/schemas/errorResponse_errors","exampleSetFlag":false}}},"exampleSetFlag":false},"errorResponse_errors":{"required":["category","code"],"properties":{"category":{"type":"string","description":"Error category. Only \"ERROR\" or \"WARNING\" permitted","example":"ERROR","exampleSetFlag":true,"enum":["ERROR","WARNING"]},"code":{"type":"string","description":"Error message code","example":"FORMAT_ERROR","exampleSetFlag":true},"text":{"type":"string","description":"Additional explaining text","example":"Review query parameters","exampleSetFlag":true}},"exampleSetFlag":true}}}}