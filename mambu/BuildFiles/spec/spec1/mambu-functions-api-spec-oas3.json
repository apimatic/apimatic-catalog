{
  "openapi": "3.0.1",
  "info": {
    "title": "Mambu Functions API",
    "description": "Mambu Functions help you enhance your financial products by extending the functionality of the Mambu composable banking platform. Using Functions reduces the time it takes to create custom financial products and gives you the power to customize for your unique requirements by injecting your own code into existing business processes.",
    "version": "v2"
  },
  "paths": {
    "/mambu-functions": {
      "get": {
        "tags": [
          "Functions"
        ],
        "summary": "List Functions",
        "description": "Gets a list of Mambu Functions, with optional filtering by `extensionPointId` and/or `functionName`\npatterns.\n\nThe following pattern symbols are supported:\n- `*`: Matches everything\n- `?`: Matches any single character\n\nThis operation also supports pagination to help manage large lists.",
        "operationId": "getAllMambuFunction",
        "parameters": [
          {
            "name": "extensionPointId",
            "in": "query",
            "description": "The ID of the Extension Point (for example `DEPOSIT_FEE_AMOUNT` or `DEPOSIT_FEE*`)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "functionName",
            "in": "query",
            "description": "The name of the Mambu Function (for example, `fee*` or `fee?`)",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "offset",
            "in": "query",
            "description": "For pagination this defines the start index to search from when getting elements and is used in combination with limit to paginate results.",
            "schema": {
              "minimum": 0,
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "For pagination this defines the number of elements to get and is used in combination with offset to paginate results.",
            "schema": {
              "minimum": 0,
              "type": "integer",
              "format": "int32"
            }
          },
          {
            "name": "paginationDetails",
            "in": "query",
            "description": "Flag specifying whether the pagination details should be provided in response headers. Please note that this is disabled (`OFF`) by default.",
            "schema": {
              "type": "string",
              "default": "OFF",
              "enum": [
                "ON",
                "OFF"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Returned Mambu Functions",
            "headers": {
              "Items-Offset": {
                "description": "The index of the first returned item.",
                "style": "simple",
                "schema": {
                  "type": "integer",
                  "format": "int32"
                }
              },
              "Items-Limit": {
                "description": "The size of the requested list.",
                "style": "simple",
                "schema": {
                  "type": "integer",
                  "format": "int32"
                }
              },
              "Items-Total": {
                "description": "The total number of available items.",
                "style": "simple",
                "schema": {
                  "type": "integer",
                  "format": "int32"
                }
              }
            },
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MambuFunction"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Functions"
        ],
        "summary": "Create Function",
        "description": "Schedules a new function to be created and returns the Function, including its deployment state.\n\nDepending on the outcome of this operation, the returned Function might be in one of these states:\n\n| State          | Description                                                            |\n|----------------|------------------------------------------------------------------------|\n| CREATE_PENDING | Mambu Function has been queued for deployment.                         |\n| ACTIVE         | Mambu Function has been successfully deployed and is ready to be used. |\n| FAILED         | Mambu Function deployment failed.                                      |",
        "operationId": "createMambuFunction",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "description": "application/json",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMambuFunction"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Mambu Function created",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/MambuFunction"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Validation: This code is returned when there is another concurrent operation on the same Function or a Function with the same name already exists.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 30000,
                      "errorSource": "A human-readable message",
                      "errorReason": "MFUNCTION_ALREADY_EXISTS"
                    }
                  ]
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/mambu-functions/{functionName}/subscriptions": {
      "get": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "List Function Subscriptions",
        "description": "Lists the Mambu Function Subscriptions of a specific `functionName`.",
        "operationId": "listMambuFunctionSubscription",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "description": "application/json",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "functionName",
            "in": "path",
            "description": "The name of the Function to get Subscriptions for.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of Mambu Function Subscriptions",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MambuFunctionSubscriptionListItem"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "Create Function Subscription",
        "description": "Creates a new Mambu Function Subscription.",
        "operationId": "createMambuFunctionSubscription",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "description": "application/json",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "functionName",
            "in": "path",
            "description": "The name of the Function whose subscription is to be created.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMambuFunctionSubscription"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Mambu Function Subscription created",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/MambuFunctionSubscription"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Validation: This code is returned when there is another concurrent operation on the same subscription or the subscription with the same name already exists",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 30000,
                      "errorSource": "A human-readable message",
                      "errorReason": "MFUNCTION_ALREADY_EXISTS"
                    }
                  ]
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/mambu-functions/{functionName}": {
      "get": {
        "tags": [
          "Functions"
        ],
        "summary": "Get Function",
        "description": "Get the details of a specified Mambu Function, including its deployment state. You can use this operation to check a Function's deployment state.",
        "operationId": "getMambuFunction",
        "parameters": [
          {
            "name": "functionName",
            "in": "path",
            "description": "The name of the Function to fetch.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mambu Function returned",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/MambuFunction"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Mambu Function not found",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Functions"
        ],
        "summary": "Update Function",
        "description": "Schedules a function to be updated and returns the current Function, including its deployment state.\n\nDepending on the outcome of this operation, the returned Function might be in one of these states:\n\n| State          | Description                                                            |\n|----------------|------------------------------------------------------------------------|\n| UPDATE_PENDING | Mambu Function has been queued for update.                             |\n| ACTIVE         | Mambu Function has been successfully deployed and is ready to be used. |\n| FAILED         | Mambu Function deployment failed.                                      |",
        "operationId": "updateMambuFunction",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "description": "application/json",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "functionName",
            "in": "path",
            "description": "The name of the Function to be updated.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMambuFunction"
              }
            }
          }
        },
        "responses": {
          "202": {
            "description": "Mambu Function updated",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/MambuFunction"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Mambu Function not found",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Validation: This code is returned when there is another concurrent operation on the same Function.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 30003,
                      "errorSource": "A human-readable message",
                      "errorReason": "MFUNCTION_OPERATION_IN_PROGRESS"
                    }
                  ]
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Functions"
        ],
        "summary": "Delete Function",
        "description": "Schedules the specified Mambu Function for removal, provided that it is not already bound to a product. The actual removal will happen after 24 hours.\n\nIf the removal is scheduled successfully, the Function will be in the REMOVING state. If the removal fails after the grace period the state will change to FAILED.",
        "operationId": "deleteMambuFunction",
        "parameters": [
          {
            "name": "functionName",
            "in": "path",
            "description": "The name of the Function to be deleted.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Mambu Function deleted."
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Mambu Function not found",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/mambu-functions/{functionName}/subscriptions/{subscriptionName}": {
      "get": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "Get Function Subscription",
        "description": "Get the details of a specific subscription of one function. This operation can be used to check the binding state of subscription",
        "operationId": "getMambuFunctionSubscription",
        "parameters": [
          {
            "name": "functionName",
            "in": "path",
            "description": "The name of the function.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "subscriptionName",
            "in": "path",
            "description": "The name of the subscription to fetch the details.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mambu Function Subscription returned",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/MambuFunctionSubscription"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Mambu Function Subscription not found",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "put": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "Update Function Subscription",
        "description": "Updates an existing Mambu Function Subscription with the provided changes.",
        "operationId": "updateMambuFunctionSubscription",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "description": "application/json",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "functionName",
            "in": "path",
            "description": "The name of the Function whose subscription is to be updated.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "subscriptionName",
            "in": "path",
            "description": "The name of the Subscription to be updated.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMambuFunctionSubscription"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mambu Function Subscription updated",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/MambuFunctionSubscription"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Mambu Function Subscription not found",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Validation: This code is returned when there is another concurrent operation on the same function",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 30000,
                      "errorSource": "A human-readable message",
                      "errorReason": "MFUNCTION_OPERATION_IN_PROGRESS"
                    }
                  ]
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "Delete Function Subscription",
        "description": "Deletes the specified Mambu Function Subscription.",
        "operationId": "deleteMambuFunctionSubscription",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "description": "application/json",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "functionName",
            "in": "path",
            "description": "The name of the Function whose subscription is to be deleted.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "subscriptionName",
            "in": "path",
            "description": "The name of the subscription to be deleted.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Mambu Function Subscription deleted"
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Mambu Function Subscription not found",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/mambu-functions/{functionName}/subscriptions/{subscriptionName}/disable": {
      "put": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "Disable Function Subscription",
        "description": "Disables a Mambu Function Subscription.",
        "operationId": "disableMambuFunctionSubscription",
        "parameters": [
          {
            "name": "functionName",
            "in": "path",
            "description": "The name of the Function.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "subscriptionName",
            "in": "path",
            "description": "The name of the subscription to disable.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mambu Function Subscription update status",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/MambuFunctionSubscription"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Validation: This code is returned when there is another concurrent operation on the same function",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 30000,
                      "errorSource": "A human-readable message",
                      "errorReason": "OPERATION_ALREADY_IN_PROGRESS"
                    }
                  ]
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/mambu-functions/{functionName}/subscriptions/{subscriptionName}/enable": {
      "put": {
        "tags": [
          "Subscriptions"
        ],
        "summary": "Enable Function Subscription",
        "description": "Enables a Mambu Function Subscription.",
        "operationId": "enableMambuFunctionSubscription",
        "parameters": [
          {
            "name": "functionName",
            "in": "path",
            "description": "The name of the Function.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "subscriptionName",
            "in": "path",
            "description": "The name of the subscription to enable.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mambu Function Subscription update status",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/MambuFunctionSubscription"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Validation: This code is returned when there is another concurrent operation on the same function",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 30000,
                      "errorSource": "A human-readable message",
                      "errorReason": "OPERATION_ALREADY_IN_PROGRESS"
                    }
                  ]
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/mambu-functions/{functionName}/logs": {
      "get": {
        "tags": [
          "Observability"
        ],
        "summary": "Get Function Logs",
        "description": "Gets Mambu Function Logs for the last 10 minutes or for the given time range, by default limited to 100 records.",
        "operationId": "getMambuFunctionLogs",
        "parameters": [
          {
            "name": "functionName",
            "in": "path",
            "description": "The name of the Function to retrieve logs for.",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "from",
            "in": "query",
            "description": "Specifies the start time of the desired time window for getting execution logs. Must be an ISO date and time string.",
            "schema": {
              "type": "string",
              "format": "date-time",
              "example": "2023-10-01T10:15:30+01:00"
            }
          },
          {
            "name": "to",
            "in": "query",
            "description": "Defines the end time of the selected time window for fetching execution logs. Must be an ISO date and time string.",
            "schema": {
              "type": "string",
              "format": "date-time",
              "example": "2023-10-01T10:15:30+01:00"
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "Sets the maximum number of log records to be returned by the API endpoint.",
            "schema": {
              "maximum": 10000,
              "minimum": 1,
              "type": "integer",
              "format": "int32",
              "default": 100
            }
          },
          {
            "name": "level",
            "in": "query",
            "description": "Sets the maximum level for the the logs to return.",
            "schema": {
              "type": "string",
              "enum": [
                "error",
                "trace",
                "error",
                "debug",
                "info",
                "warn"
              ]
            }
          },
          {
            "name": "msgPattern",
            "in": "query",
            "description": "Filter the logs and only return logs that contain specific text. Only exact substring matching is supported and alphanumeric characters, white space, and these special characters: `_`, `#`, `=`, `@`,`/`, `;`, `,`, and `-` can be used.",
            "schema": {
              "pattern": "^[A-Za-z0-9\\t\\n_#=@/;,\\-]{1,100}$",
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Mambu Function logs.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/MambuFunctionLogs"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Not Found",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/mambu-functions-secrets": {
      "get": {
        "tags": [
          "Secrets"
        ],
        "summary": "List Function Secrets",
        "description": "Lists the secrets used for Mambu Function.",
        "operationId": "listMambuFunctionSecrets",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "description": "application/json",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "List of Mambu Function Secret",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/MambuFunctionSecret"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": [
          "Secrets"
        ],
        "summary": "Create Function Secret",
        "description": "Creates a new secret used for Mambu Functions and returns the created secret name.",
        "operationId": "createMambuFunctionSecret",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "description": "application/json",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMambuFunctionSecret"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Mambu Function Secret created",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/MambuFunctionSecret"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Validation: This code is returned when there is another concurrent operation on the same secret or the secret with the same name already exists",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 30000,
                      "errorSource": "A human-readable message",
                      "errorReason": "MFUNCTION_ALREADY_EXISTS"
                    }
                  ]
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/mambu-functions-secrets/{name}": {
      "put": {
        "tags": [
          "Secrets"
        ],
        "summary": "Update Function Secret",
        "description": "Updates an existing secret value.",
        "operationId": "updateMambuFunctionSecret",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "description": "application/json",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "path",
            "description": "The name of the Mambu Function Secret.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateMambuFunctionSecret"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Mambu Function Secret updated",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/MambuFunctionSecret"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      },
      "delete": {
        "tags": [
          "Secrets"
        ],
        "summary": "Delete Function Secret",
        "description": "Deletes the specified secret used for Mambu Function.\n\n<aside class='warning'>\n    <strong>Warning</strong><br>\n    Removal of a secret may cause Denial Of Service for any Mambu Function which use it. This operation\n    will not verify if there are such usages, so please verify if none of Your Mambu Functions use it before\n    deleting the secret. Proceed at your own risk!\n</aside>\n",
        "operationId": "deleteMambuFunctionSecret",
        "parameters": [
          {
            "name": "Content-Type",
            "in": "header",
            "description": "application/json",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "name",
            "in": "path",
            "description": "The name of the secret.",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Mambu Function Secret deleted"
          },
          "400": {
            "description": "Bad Request - Validation: This code is returned when there is  malformed syntax in the request or incorrect data in the payload.",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "403": {
            "description": "Forbidden",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Mambu Function Secret not found",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests",
            "content": {
              "application/vnd.mambu.v2+json": {
                "schema": {
                  "$ref": "#/components/schemas/ErrorResponse"
                },
                "example": {
                  "errors": [
                    {
                      "errorCode": 300013,
                      "errorSource": "Request rate limit exceeded. Please try again later.",
                      "errorReason": "MFUNCTION_RATE_LIMIT_EXCEEDED"
                    }
                  ]
                }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "MambuFunction": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the Mambu Function."
          },
          "state": {
            "type": "string",
            "description": "The current state of the Mambu Function.",
            "enum": [
              "CREATE_PENDING",
              "UPDATE_PENDING",
              "ACTIVE",
              "FAILED",
              "REMOVING"
            ]
          },
          "version": {
            "type": "string",
            "description": "The version of the Mambu Function."
          },
          "lastModifiedDate": {
            "type": "string",
            "description": "The last date the Mambu Function was updated (in UTC).",
            "format": "date-time"
          },
          "extensionPointId": {
            "type": "string",
            "description": "The ID of the extension point"
          },
          "lastDeploymentStatus": {
            "type": "string",
            "description": "The status of the last asynchronous deployment"
          },
          "lastDeploymentFailureReason": {
            "type": "string",
            "description": "The reason the last deployment failed if it did"
          }
        },
        "description": "Represents a Mambu Function.",
        "example": {
          "name": "my-func-1",
          "state": "ACTIVE",
          "version": "v1",
          "lastModifiedDate": "2023-05-08T06:53:52Z",
          "extensionPointId": "DEPOSIT_FEE_AMOUNT",
          "lastDeploymentStatus": "SUCCESS",
          "lastDeploymentFailureReason": ""
        }
      },
      "ErrorResponse": {
        "type": "object",
        "properties": {
          "errors": {
            "type": "array",
            "items": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/RestError"
              }
            }
          }
        },
        "example": {
          "errors": [
            {
              "errorCode": 30002,
              "errorSource": "A human-readable message",
              "errorReason": "MFUNCTION_INTERNAL_ERROR"
            }
          ]
        }
      },
      "RestError": {
        "type": "object",
        "properties": {
          "errorCode": {
            "type": "number",
            "description": "A unique error code. For more information, see [API Responses and Error Codes](https://support.mambu.com/docs/api-response-error-codes)."
          },
          "errorReason": {
            "type": "string",
            "description": "A human-readable message capturing unsatisfied constraints.",
            "enum": [
              "INVALID_BASIC_AUTHORIZATION",
              "INVALID_API_OPERATION",
              "INVALID_PARAMETERS",
              "INTERNAL_ERROR",
              "INVALID_TENANT_ID",
              "INVALID_PAGINATION_OFFSET_VALUE",
              "OUT_OF_BOUNDS_PAGINATION_OFFSET_VALUE",
              "INVALID_PAGINATION_LIMIT_VALUE",
              "OUT_OF_BOUNDS_PAGINATION_LIMIT_VALUE",
              "INVALID_PERMISSIONS",
              "INVALID_JSON_SYNTAX",
              "OBJECT_NOT_FOUND",
              "MFUNCTION_ALREADY_EXISTS",
              "MFUNCTION_SERVICE_NOT_READY",
              "MFUNCTION_INTERNAL_ERROR",
              "MFUNCTION_OPERATION_IN_PROGRESS",
              "MFUNCTION_MAX_FUNCTION_COUNT_LIMIT_REACHED",
              "MFUNCTION_INTERNAL_LIMIT_REACHED",
              "MFUNCTION_UNSUPPORTED_EXTENSION_POINT",
              "MFUNCTION_MAPPED_FUNCTION_CANNOT_BE_DELETED",
              "MFUNCTION_TOO_MANY_LOG_REQUESTS",
              "MFUNCTION_MAX_SUBSCRIPTION_COUNT_LIMIT_REACHED",
              "MFUNCTION_WITH_SUBSCRIPTION_CAN_NOT_BE_DELETED",
              "MFUNCTION_MAX_SUBSCRIPTION_PER_EVENT_LIMIT_REACHED",
              "MFUNCTION_MAX_SECRET_COUNT_PER_TENANT_LIMIT_REACHED",
              "MFUNCTION_RATE_LIMIT_EXCEEDED",
              "MFUNCTION_CONTRACT_COULD_NOT_BE_LOADED"
            ]
          },
          "errorSource": {
            "type": "string",
            "description": "A human-readable message stating the general category of the failure."
          }
        }
      },
      "CreateMambuFunction": {
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 30,
            "pattern": "[a-z0-9-]*",
            "type": "string",
            "description": "The name of the Mambu Function."
          },
          "extensionPointId": {
            "maxLength": 50,
            "type": "string",
            "description": "The ID of the extension point"
          },
          "version": {
            "maxLength": 50,
            "type": "string",
            "description": "The version of the Mambu Function."
          },
          "functionCode": {
            "$ref": "#/components/schemas/MambuFunctionCode"
          }
        },
        "description": "Represents an action to create a Mambu Function.",
        "example": {
          "name": "my-func-1",
          "extensionPointId": "DEPOSIT_FEE_AMOUNT",
          "version": "v1",
          "functionCode": {
            "languageId": "es2020",
            "code": "ZXhwb3J0cy5kZWZhdWx0ID0gYXN5bmMgZnVuY3Rpb24oaW5wdXQpIHsgCiAgcmV0dXJuIGlucHV0LnRvdGFsQmFsYW5jZSAqIDAuMDE7IAp9"
          }
        }
      },
      "MambuFunctionCode": {
        "type": "object",
        "properties": {
          "languageId": {
            "type": "string",
            "description": "The programming language used in the Mambu Function.",
            "enum": [
              "es2020"
            ]
          },
          "code": {
            "type": "string",
            "description": "The base-64 encoded code of the Mambu Function.",
            "format": "byte"
          }
        },
        "description": "Represents a Mambu Function's code.",
        "example": {
          "languageId": "es2020",
          "code": "ZXhwb3J0cy5kZWZhdWx0ID0gYXN5bmMgZnVuY3Rpb24oaW5wdXQpIHsgCiAgcmV0dXJuIGlucHV0LnRvdGFsQmFsYW5jZSAqIDAuMzsgCn0="
        }
      },
      "MambuFunctionSubscription": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the Mambu Function Subscription."
          },
          "state": {
            "type": "string",
            "description": "The current state of the Mambu Function Subscription.",
            "enum": [
              "CREATE_PENDING",
              "UPDATE_PENDING",
              "ACTIVE",
              "FAILED",
              "REMOVING",
              "UNKNOWN"
            ]
          },
          "batchSize": {
            "type": "integer",
            "description": "Subscription batch size, define the maximum number of records in each batch that subscription pulls from your stream.",
            "format": "int32"
          },
          "batchWindow": {
            "type": "integer",
            "description": "Subscription batch window in seconds, define the maximum time range subscription pulls from your stream.",
            "format": "int32"
          },
          "event": {
            "type": "string",
            "description": "Subscription event, source of stream for the subscription."
          }
        },
        "description": "Represents a Mambu Function Subscription.",
        "example": {
          "name": "all_savings_withdrawal",
          "state": "ACTIVE",
          "batchSize": 50,
          "batchWindow": 3,
          "event": "SAVINGS_WITHDRAWAL"
        }
      },
      "CreateMambuFunctionSubscription": {
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 30,
            "type": "string",
            "description": "The name of the Mambu Function Subscription."
          },
          "event": {
            "type": "string",
            "description": "An event to subscribe for. See https://support.mambu.com/docs/event-triggers-for-notifications for supported values.",
            "example": "ACCOUNT_IN_ARREARS"
          },
          "batchSize": {
            "maximum": 10000,
            "minimum": 1,
            "type": "integer",
            "description": "Subscription batch size, define the maximum number of records in each batch that subscription pulls from your stream.",
            "format": "int32",
            "default": 500
          },
          "batchWindow": {
            "maximum": 300,
            "minimum": 0,
            "type": "integer",
            "description": "subscription batch window in seconds, define the maximum time range subscription pulls from your stream.",
            "format": "int32",
            "default": 0
          }
        },
        "description": "Represents an action to create a Mambu Function Subscription.",
        "example": {
          "name": "all_savings_withdrawal",
          "event": "ACCOUNT_IN_ARREARS",
          "batchSize": 50,
          "batchWindow": 3
        }
      },
      "MambuFunctionSubscriptionListItem": {
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 30,
            "type": "string",
            "description": "The name of the Mambu Function Subscription."
          }
        },
        "description": "Represents an item in the list of returned Mambu Function Subscriptions.",
        "example": {
          "name": "all_savings_withdrawal"
        }
      },
      "UpdateMambuFunction": {
        "type": "object",
        "properties": {
          "version": {
            "maxLength": 50,
            "type": "string",
            "description": "The version of the Mambu Function."
          },
          "functionCode": {
            "$ref": "#/components/schemas/MambuFunctionCode"
          }
        },
        "description": "Represents an action to update a Mambu Function.",
        "example": {
          "version": "v1",
          "functionCode": {
            "languageId": "es2020",
            "code": "ZXhwb3J0cy5kZWZhdWx0ID0gYXN5bmMgZnVuY3Rpb24oaW5wdXQpIHsgCiAgcmV0dXJuIGlucHV0LnRvdGFsQmFsYW5jZSAqIDAuMDE7IAp9"
          }
        }
      },
      "UpdateMambuFunctionSubscription": {
        "type": "object",
        "properties": {
          "batchSize": {
            "maximum": 10000,
            "minimum": 1,
            "type": "integer",
            "description": "The batch size to be used.",
            "format": "int32"
          },
          "batchWindow": {
            "maximum": 300,
            "minimum": 0,
            "type": "integer",
            "description": "The batch window to be used.",
            "format": "int32"
          }
        },
        "description": "Represents an action to update a Mambu Function Subscription.",
        "example": {
          "batchSize": 50,
          "batchWindow": 10
        }
      },
      "MambuFunctionLog": {
        "type": "object",
        "properties": {
          "time": {
            "type": "number",
            "description": "The log time."
          },
          "message": {
            "type": "string",
            "description": "The log message."
          },
          "logLevel": {
            "type": "integer",
            "description": "The log level.",
            "format": "int32"
          },
          "requestId": {
            "type": "string",
            "description": "The ID of the specific request to the Function."
          },
          "functionVersion": {
            "type": "string",
            "description": "Mambu function version."
          }
        }
      },
      "MambuFunctionLogs": {
        "type": "object",
        "properties": {
          "logs": {
            "type": "array",
            "items": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/MambuFunctionLog"
              }
            }
          }
        },
        "description": "Represents a list of Mambu Function logs.",
        "example": {
          "logs": [
            {
              "time": "1692943135231",
              "requestId": "785ea595-d1af-4a3a-a8b7-fa4dfc29c359",
              "message": "updating fee for account",
              "logLevel": "20"
            }
          ]
        }
      },
      "MambuFunctionSecret": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the Mambu Function Secret."
          }
        },
        "description": "Represents a Mambu Function Secret.",
        "example": {
          "name": "secret-name"
        }
      },
      "CreateMambuFunctionSecret": {
        "type": "object",
        "properties": {
          "name": {
            "maxLength": 100,
            "pattern": "[A-Za-z0-9-]*",
            "type": "string",
            "description": "The name of the secret."
          },
          "value": {
            "maxLength": 65536,
            "type": "string",
            "description": "The value of the secret."
          }
        },
        "description": "Represents an action to create a secret used for Mambu Functions.",
        "example": {
          "name": "secret-name",
          "value": "1234"
        }
      },
      "UpdateMambuFunctionSecret": {
        "type": "object",
        "properties": {
          "value": {
            "type": "string",
            "description": "The value of the secret."
          }
        },
        "description": "Request payload to update Mambu Function Secret value.",
        "example": {
          "value": "1234"
        }
      }
    }
  },
  "servers": [
    {
      "url": "https://TENANT_NAME.mambu.com/api/"
    }
  ]
}
