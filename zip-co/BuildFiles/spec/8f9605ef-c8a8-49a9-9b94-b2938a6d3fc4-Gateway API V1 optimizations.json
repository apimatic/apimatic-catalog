{"openapi":"3.1.0","info":{"title":"Gateway API (optimizations)","version":"1.0"},"servers":[{"url":"https://gateway.us.zip.co/"}],"components":{"securitySchemes":{}},"security":[{}],"paths":{"/orders/authorize":{"post":{"summary":"/orders/authorize (for Advanced Approvals merchants)","description":"Creates a new checkout context and redirects to the checkout website using details from the request body. Sent from the user's browser via a form POST, will start a checkout session within Zip. It will automatically redirect the user to our Zip checkout.  This endpoint contains the additionalData object which is used by Zip-approved merchants that are implementing our Advanced Approvals feature.","operationId":"orders-authorize-advanced-approvals","parameters":[{"name":"QP-Territory","in":"header","description":"Territory of the request (US, CA)","required":true,"schema":{"type":"string"}},{"name":"X-QP-Signature","in":"header","description":"The signature for merchant validation","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","required":["merchantId","merchantReference","callbackUrl","redirectCancelUrl","redirectConfirmUrl"],"properties":{"orderId":{"type":"string","description":"Gets or sets the unique ID to use for order creation"},"merchantId":{"type":"string","description":"Gets or sets the merchant Id"},"merchantReference":{"type":"string","description":"Gets or sets the unique merchant reference for this authorization."},"order":{"type":"object","description":"Encapsulates an order to create for a merchant","properties":{}},"test":{"type":"boolean","description":"Gets or sets a value indicating whether this is a test order"},"capture":{"type":"boolean","description":"Gets or sets a value indicating whether this order should be immediately captured"},"callbackUrl":{"type":"string","description":"Gets or sets the status callback url"},"redirectCancelUrl":{"type":"string","description":"Gets or sets the url that the user will be redirected to if they cancel the checkout"},"redirectConfirmUrl":{"type":"string","description":"Gets or sets the url that the user will be redirected to after they have completed the checkout."},"metadata":{"type":"object","description":"Gets or sets optional metadata attached to the checkout","properties":{}},"merchantFeeForPaymentPlan":{"type":"number","description":"Gets or sets the consumer fee added to the order for merchantFeeForPaymentPlan","format":"double"},"checkoutFlow":{"type":"string","description":"Gets or sets the type of the checkout; defaults to Standard; can only be set internally"},"brandName":{"type":"string","description":"Gets or sets the brand name of the merchant for this order"},"additionalData":{"type":"object","properties":{"customerLoggedIn":{"type":"boolean","description":"Indicate whether the customer is currently logged to your site"},"customerIsMember":{"type":"boolean","description":"Indicate whether the customer has an account with your site"},"merchantRiskAssessment":{"type":"string","description":"Include your own risk score or risk assessment on the customer"},"sameDevice":{"type":"boolean","description":"Indicate whether the customer is using an existing device you recognize"},"fulfillmentMethod":{"type":"string","description":"Indicate whether the order is online only, or for an in-store pickup"},"accountCreationDate":{"type":"string","description":"Date the customer first created their account with you","format":"date"},"lastTransactionDate":{"type":"string","description":"Date the customer last made a successful purchase with you","format":"date"},"customerTransactionCount":{"type":"string","description":"Total count of the customer’s transactions"},"customerAverageOrderValue":{"type":"string","description":"Average order value of all the customer’s past transitions"},"customerFraudIncidents":{"type":"boolean","description":"Indicate whether the customer has had any fraud incidents with you in the past"}}}}}}}},"responses":{"302":{"description":"302","content":{"application/json":{"examples":{"Redirect":{"value":""}}}}}},"deprecated":false,"security":[],"x-readme":{"code-samples":[{"language":"text","code":"curl --request POST \\\n     --url https://gateway.us.zip.co/orders/authorize \\\n     --header 'Content-Type: application/json' \\\n     --header 'QP-Territory: US' \\\n     --data '\n{\n     \"orderId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n     \"merchantId\": \"3fa85f64-5717-4562-b3fc-2c963f66afa6\",\n     \"merchantReference\": \"string\",\n     \"order\": {\n          \"firstName\": \"string\",\n          \"lastName\": \"string\",\n          \"email\": \"string\",\n          \"phone\": \"string\",\n          \"shippingAddress\": {\n               \"line1\": \"string\",\n               \"line2\": \"string\",\n               \"city\": \"string\",\n               \"state\": \"string\",\n               \"postalCode\": \"string\",\n               \"country\": \"string\"\n          },\n          \"billingAddress\": {\n               \"line1\": \"string\",\n               \"line2\": \"string\",\n               \"city\": \"string\",\n               \"state\": \"string\",\n               \"postalCode\": \"string\",\n               \"country\": \"string\"\n          },\n          \"currency\": \"string\",\n          \"amount\": 0,\n          \"taxAmount\": 0,\n          \"shippingAmount\": 0,\n          \"lineItems\": [\n               {\n                    \"description\": \"string\",\n                    \"name\": \"string\",\n                    \"quantity\": 0,\n                    \"price\": 0,\n                    \"sku\": \"string\",\n                    \"isPreOrder\": true,\n                    \"releaseDate\": \"2021-12-01T16:11:29.525Z\"\n               }\n          ],\n          \"description\": \"string\",\n          \"orderNumber\": \"string\"\n     },\n     \"capture\": true,\n     \"callbackUrl\": \"string\",\n     \"redirectCancelUrl\": \"string\",\n     \"redirectConfirmUrl\": \"string\",\n     \"metadata\": {\n          \"additionalProp\": \"string\"\n     },\n     \"merchantFeeForPaymentPlan\": 0,\n     \"checkoutFlow\": \"standard\",\n     \"brandName\": \"string\"\n}\n\n\n","name":"Request Example"}],"samples-languages":["text"]}}}},"x-readme":{"headers":[],"explorer-enabled":false,"proxy-enabled":false},"x-readme-fauxas":true}