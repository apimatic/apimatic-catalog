{"openapi":"3.0.0","info":{"title":"API de Checkout","description":"La API de Checkout de Clip integra una solución segura y fácil de pago a tu tienda en línea.\n","contact":{"name":"API Support","email":"developers@clip.mx"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"version":"1.0.0"},"x-explorer-enabled":true,"x-samples-enabled":true,"x-proxy-enabled":true,"servers":[{"description":"URL base del ambiente de producción.","url":"https://api-gw.payclip.com/"}],"tags":[{"name":"Checkout","description":"El recurso de **API de Checkout** permite generar un enlace de pago, para integrarlo en el flujo de tu tienda en línea y darle la opción a tus clientes de realizar pagos con tarjeta de una manera fácil, rápida y segura."}],"paths":{"/checkout":{"post":{"summary":"Crear un nuevo link de pago","description":"Genera un link de pago para redirigir a tus clientes al servicio de Checkout de Clip en donde pueden completar su pago de manera segura y rápida. ","tags":["Checkout"],"operationId":"CreateNewPaymentLink","security":[{"ApiKeyAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","required":["amount","currency","purchase_description","redirection_url"],"properties":{"amount":{"description":"Número con decimales que representa el monto a cobrar. El número mínimo entero es 1. Utiliza dos decimales como máximo.","type":"number","format":"float","default":100.5,"minimum":1},"currency":{"description":"Código de tres caracteres que representa la moneda. <br/>**Formato** ISO 4217 (3 caracteres en mayúsculas).","type":"string","minLength":3,"default":"MXN"},"purchase_description":{"description":"Texto que describe la compra. Visible para el cliente en la UI o el recibo. <br/>**Formato** UTF-8 <br/> Se aceptan los siguientes caracteres especiales `~!@#$%^&*()\\\\=+\\\\\\\\|\\\\[{\\\\]};:\\\"<>/?","type":"string","default":"ejemplo de compra","maxLength":250,"format":"utf-8"},"redirection_url":{"description":"URLs para regresar a la tienda en línea después de completar una acción.","type":"object","required":["success","error","default"],"properties":{"success":{"description":"URL cuando el pago es exitoso.","type":"string","enum":["https://my-website.com/redirection/success?me_reference_id=OID123456789"]},"error":{"description":"URL cuando 5 o más intentos han fallado.","type":"string","enum":["https://my-website.com/redirection/error?me_reference_id=OID123456789"]},"default":{"description":"URL de la tienda en línea.","type":"string","enum":["https://my-website.com/redirection/default"]}}},"expires_at":{"description":"Indica la fecha y hora (en UTC) de expiración de la solicitud de pago, la cual debe debe ser mayor a 00:01:00 minuto de la hora de creación de la solicitud y menor a las 23:59:59 (hora de CDMX) del mismo día de creación. Ejemplo 2023-06-18T22:52:26Z <br/> Si no se especifica, el valor default de este parámetro es tres días a partir de la hora de creación.","type":"string","format":"YYYY-MM-DDTHH-MM-SSZ","maxLength":20},"metadata":{"description":"Objeto que puedes utilizar para identificar la transacción.<br/> El conjunto de parejas llave:valor lo puede definir el desarrollador. El objeto se almacena como una cadena de texto (JSON) sin formato de estructura.<br/> **Este objeto es opcional, los elementos me_reference_id y customer_info se muestran como ejemplo.**","type":"object","properties":{"me_reference_id":{"description":"ID de referencia de la orden para rastrear las transacciones.  Caracteres especiales permitidos Guión medio (-) y Guión bajo (_). <br/>Se permiten acentos. <br/>Los espacios en blanco serán removidos.<br/>**Este parámetro es un ejemplo de lo que puedes incluir dentro del objeto metadata**","type":"string","maxLength":36,"example":"OID123456789"},"customer_info":{"type":"object","description":"Objeto con la información del cliente para el link de pago. **El valor de este parámetro se motrará pre-llenado en el Checkout.**","properties":{"name":{"description":"Nombre de tu cliente.","type":"string","example":"Juan Lopez"},"email":{"description":"Correo electrónico de tu cliente.","type":"string","example":"ejemplo@mail.com"},"phone":{"description":"Número telefónico de tu cliente.","type":"number","example":5512345678}}},"billing_address":{"description":"Objeto con la dirección de facturación.<br/> Solo aplica para pagos con AMEX.Si se incluye se mostrará pre-llenado en el Checkout.<br/> **Este objeto es opcional.**","type":"object","properties":{"zip_code":{"description":"Código postal. <br/>Los caracteres especiales permitidos son Guión medio (-) y punto (.) <br>Se permiten caracteres alfanuméricos [0-9] [a-Z] .<br/>**Este elemento  es opcional.** Si se incluye se mostrará pre-llenado en el Checkout para transacciones con AMEX.","type":"string","maxLength":10,"example":"03800A"},"locality":{"description":"Colonia.<br/> Los caracteres especiales permitidos son Guión medio (-) y espacios.<br/>**Este elemento  es opcional.** Si se incluye se mostrará pre-llenado en el Checkout para transacciones con AMEX.","type":"string","maxLength":255,"example":"San Pedro"},"city":{"description":"Delegación o municipio. <br/> Los caracteres especiales permitidos son Guión medio (-) y espacios. <br/>Se permiten acentos.<br/>**Este elemento  es opcional.** Si se incluye se mostrará pre-llenado en el Checkout para transacciones con AMEX.","type":"string","maxLength":255,"example":"Benito Juárez"},"State":{"description":"Estado. <br/> Los caracteres especiales permitidos son Guión medio (-) y espacios. <br/>Se permiten acentos.**Este elemento  es opcional.** Si se incluye se mostrará pre-llenado en el Checkout para transacciones con AMEX.","type":"string","maxLength":255,"example":"Ciudad de México"},"country":{"description":"País. <br/> Los caracteres especiales permitidos son Guión medio (-) y espacios. <br/>Se permiten acentos.<br/>**Este elemento  es opcional.** Si se incluye se mostrará pre-llenado en el Checkout para transacciones con AMEX.","type":"string","maxLength":255,"example":"México"},"street":{"description":"Nombre de la calle. <br/> Los caracteres especiales permitidos son Guión medio (-) y espacios.<br/>**Este elemento  es opcional.** Si se incluye se mostrará pre-llenado en el Checkout para transacciones con AMEX.","type":"string","maxLength":255,"example":"Av Uno"},"outdoor_number":{"description":"Número exterior del domicilio.<br/> Los caracteres especiales permitidos son Guión medio (-) y espacios.<br/>**Este elemento  es opcional.** Si se incluye se mostrará pre-llenado en el Checkout para transacciones con AMEX.","type":"string","maxLength":10,"example":"104A"},"interior_number":{"description":"Número interior del domicilio. <br/> Los caracteres especiales permitidos son Guión medio (-) y espacios.**Este elemento  es opcional.** Si se incluye se mostrará pre-llenado en el Checkout para transacciones con AMEX.","type":"string","maxLength":10,"example":"203B"},"reference":{"description":"Referencia del domicilio.<br/> Los caracteres especiales permitidos son Guión medio (-) y espacios.<br/>**Este elemento  es opcional.** Si se incluye se mostrará pre-llenado en el Checkout para transacciones con AMEX.","type":"string","maxLength":255,"example":"Edificio gris"},"between_streets":{"description":"Entre calles que rodean al domicilio. <br/> Los caracteres especiales permitidos son Guión medio (-) y espacios.<br/>**Este elemento  es opcional.** Si se incluye se mostrará pre-llenado en el Checkout para transacciones con AMEX.","type":"string","maxLength":255,"example":"Entre calle 13 y calle 9"},"floor":{"description":"Número de piso del domicilio.<br/> Los caracteres especiales permitidos son Guión medio (-) y espacios. <br/>**Este elemento  es opcional.** Si se incluye se mostrará pre-llenado en el Checkout para transacciones con AMEX.","type":"string","maxLength":10,"example":"2B"}}}}},"override_settings":{"description":"Objeto que puedes utilizar para cambiar la configuración por default del Checkout.<br/>**Este objeto es opcional, si no se envía el payment_method se usará el valor por default.**","type":"object","properties":{"payment_method":{"description":"Métodos de pago aceptados en el link de pago.<br/> Los valores aceptados son [\"CARD\"],[\"CASH\"] o ambos. El valor por default es [\"CARD\",\"CASH\"].<br/>**Este parámetro es opcional, si no se envía se usará el valor por default.**","maxItems":2,"type":"array","items":{"type":"string","format":"int64","example":["CARD","CASH"]}},"enable_tip":{"description":"Muestra u oculta las propinas. El valor por default es false.<br/>Si enabled es true se mostrarán las propinas. Si enabled es false se ocultarán las propinas.<br/>**Este parámetro es opcional, si no se envía se usará el valor por default.**","type":"boolean","example":false},"locale":{"description":"Selecciona el idioma de la página de Checkout Clip donde el cliente completa el pago. Utiliza _es-MX_ para español o _en-US_ para inglés. <br/> El valor default es es-MX. Este parámetro es opcional, si no se envía en la solicitud se utilizará el valor default. Acepta mayúsculas y minúsculas.","type":"string","enum":["es-MX","en-US"]},"currency":{"description":"Objeto que contiene la información del tipo de moneda.<br/>","type":"object","properties":{"show_currency_code":{"description":"Muestra u oculta el tipo de moneda. El valor por default es false.<br/>Si enabled es true se mostrará el tipo de moneda \"MXN\". Si enabled es false se ocultará el tipo de moneda.<br/>**Este parámetro es opcional, si no se envía se usará el valor por default.**","type":"boolean","example":false}}}}},"webhook_url":{"description":"URL del endpoint que recibirá notificaciones webhook del link de pago.<br/>Puedes consultar la estructura de la notificación webhook en el siguiente [link](https://developer.clip.mx/reference/checkout-webhook).","type":"string","example":"https://hook.us1.make.com/k5f98kqxuuxgn4td6hgejrnu6lsi362p"}}}}}},"responses":{"200":{"description":"OK","content":{"application/vnd.com.payclip.v2+json":{"schema":{"$ref":"#/components/schemas/Success"}}}},"400":{"description":"Solicitud incorrecta","content":{"application/vnd.com.payclip.v2+json":{"schema":{"$ref":"#/components/schemas/error"},"examples":{"Bad-Request-1":{"value":{"message":"Objeto no encontrado","code_message":"001","detail":"Cuerpo de la solicitud vacío"}},"Bad-Request-2":{"value":{"message":"Entrada inválida","code_message":"002","detail":"Error de validación de formato"}},"Bad-Request-3":{"value":{"message":"Campo inválido","code_message":"003","detail":"Error de validación de contenido"}},"Bad-Request-4":{"value":{"message":"Solicitud incorrecta","code_message":"004","detail":"Error al crear payment_link"}},"Bad-Request-5":{"value":{"message":"Método de pago inválido","code_message":"005","detail":"El método de pago tiene un valor incorrecto"}}}}}},"401":{"description":"Error de Autorización","content":{"application/vnd.com.payclip.v2+json":{"schema":{"$ref":"#/components/schemas/error"},"example":{"message":"Error de Autorización","code_message":"011","detail":"Token de autenticación incorrecto"}}}},"403":{"description":"Prohibido","content":{"application/vnd.com.payclip.v2+json":{"schema":{"$ref":"#/components/schemas/error"},"example":{"message":"Prohibido","code_message":"0","detail":"Solicitud bloqueada.Si tu sitio web está alojado en un servidor fuera de México o EUA, favor de contactar a Customer Happiness para recibir asistencia."}}}},"404":{"description":"No Encontrada","content":{"application/vnd.com.payclip.v2+json":{"schema":{"$ref":"#/components/schemas/error"},"example":{"message":"Página no encontrada","code_message":"021","detail":"No se encontró la página solicitada"}}}},"412":{"description":"Límite de solicitudes alcanzado","content":{"application/vnd.com.payclip.v2+json":{"schema":{"$ref":"#/components/schemas/error"},"example":{"message":"Límite de solicitudes alcanzado","code_message":"031","detail":"Motivo del excedente del límite"}}}},"500":{"description":"Error de Servidor Interno","content":{"application/vnd.com.payclip.v2+json":{"schema":{"$ref":"#/components/schemas/error"},"example":{"message":"Error de Servidor Interno","code_message":"101","detail":"Hubo un error en la validación del payment_link"}}}}}}},"/checkout/{payment_request_id}":{"get":{"summary":"Consulta el estado de un link de pago","description":"Consulta el estado de un link de pago.","tags":["Checkout"],"operationId":"CheckPaymentLinkStatus","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"payment_request_id","in":"path","description":"Identificador del link de pago. <br/>Se genera un nuevo <code>payment_request_id</code> en cada solicitud para *Crear un nuevo link de pago*.","required":true,"schema":{"type":"string","format":"UUID","maxLength":36}}],"responses":{"200":{"description":"OK","content":{"application/vnd.com.payclip.v2+json":{"schema":{"$ref":"#/components/schemas/Success-get"}}}},"400":{"description":"Solicitud incorrecta","content":{"application/vnd.com.payclip.v2+json":{"schema":{"$ref":"#/components/schemas/error"},"examples":{"Bad-Request-1":{"value":{"message":"Objeto no encontrado","code_message":"001","detail":"Cuerpo de la solicitud vacío"}},"Bad-Request-2":{"value":{"message":"Entrada inválida","code_message":"002","detail":"Error de validación de formato"}},"Bad-Request-3":{"value":{"message":"Campo inválido","code_message":"003","detail":"Error de validación de contenido"}},"Bad-Request-4":{"value":{"message":"Solicitud incorrecta","code_message":"004","detail":"Error al crear payment_link"}}}}}},"401":{"description":"Error de Autorización","content":{"application/vnd.com.payclip.v2+json":{"schema":{"$ref":"#/components/schemas/error"},"example":{"message":"Error de Autorización","code_message":"011","detail":"Token de autenticación incorrecto"}}}},"403":{"description":"Prohibido","content":{"application/vnd.com.payclip.v2+json":{"schema":{"$ref":"#/components/schemas/error"},"example":{"message":"Prohibido","code_message":"0","detail":"Solicitud bloqueada.Si tu sitio web está alojado en un servidor fuera de México o EUA, favor de contactar a Customer Happiness para recibir asistencia."}}}},"404":{"description":"No Encontrada","content":{"application/vnd.com.payclip.v2+json":{"schema":{"$ref":"#/components/schemas/error"},"example":{"message":"Página no encontrada","code_message":"021","detail":"No se encontró la página solicitada"}}}},"412":{"description":"Límite de solicitudes alcanzado","content":{"application/vnd.com.payclip.v2+json":{"schema":{"$ref":"#/components/schemas/error"},"example":{"message":"Límite de solicitudes alcanzado","code_message":"031","detail":"Motivo del excedente del límite"}}}},"500":{"description":"Error de Servidor Interno","content":{"application/vnd.com.payclip.v2+json":{"schema":{"$ref":"#/components/schemas/error"},"example":{"message":"Error de Servidor Interno","code_message":"101","detail":"Hubo un error en la validación del payment_link"}}}}}}}},"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"x-api-key"}},"schemas":{"Success":{"type":"object","properties":{"payment_request_id":{"type":"string","description":"Identificador del link de pago. <br/>Se genera un nuevo <code>payment_request_id</code> en cada solicitud para *Crear un nuevo link de pago*.","format":"uuid","maxLength":36},"object_type":{"type":"string","description":"Valor estático del link de pago “payment_link”"},"status":{"type":"string","description":"Estado actual del link de pago. Los estados posibles son  <br/>**CHECKOUT_CREATED** El link de pago fue creado exitosamente.<br/>**CHECKOUT_PENDING**  El link de pago está activo y pendiente de ser completado.<br/> **CHECKOUT_CANCELLED** El link de pago fue cancelado por exceso de intentos (máximo 5).<br/> **CHECKOUT_EXPIRED** El link de pago expiró.  El link de pago expira después de 1 hora. <br/> **CHECKOUT_COMPLETED** El link de pago se liquidó."},"last_status_message":{"type":"string","description":"Mensaje del último estado del link de pago dependiendo del elemento status."},"created_at":{"type":"string","description":"Indica la fecha y hora de creación del enlace de pago.","format":"YYYY-MM-DDTHH-MM-SSZ"},"payment_request_url":{"type":"string","description":"Link de pago a donde se redirigirá al cliente."},"modified_at":{"type":"string","description":"Indica la fecha y hora de modificación del enlace de pago.","format":"date-time"},"expired_at":{"type":"string","description":"Indica la fecha y hora de expiración del enlace de pago.","format":"date-time"}},"example":{"payment_request_id":"2cbf5775-1cdd-4601-9712-c4a6ab7fa6f5","object_type":"payment_link","status":"CHECKOUT_CREATED","last_status_message":"Payment request is active","created_at":"2020-04-30T00:00:00.000Z","payment_request_url":"https://completa-tu-pago.payclip.com/37f3a2d5-cc9a-4730-b2b8-fac00eb27a3d","modified_at":"2020-04-30T00:00:00.000Z","expired_at":"2020-04-30T00:00:00.000Z"}},"Success-get":{"type":"object","properties":{"metadata":{"$ref":"#/components/schemas/metadata"},"amount":{"type":"number","format":"float","description":"Número con decimales que representa el monto a cobrar. El número mínimo entero es 1. Utiliza dos decimales como máximo."},"receipt_no":{"type":"string","description":"Identificador de la transacción, se mostrará en el evoucher de la transacción. Este campo se muestra cuando el valor de status es **CHECKOUT_COMPLETED**"},"object_type":{"type":"string","description":"Valor estático del link de pago \"payment_link\""},"created_at":{"type":"string","description":"Indica la fecha y hora de creación del enlace de pago.","format":"YYYY-MM-DDTHH-MM-SSZ"},"expired_at":{"type":"string","description":"Indica la fecha y hora de expiración del enlace de pago.","format":"date-time"},"payment_request_id":{"type":"string","description":"Identificador del link de pago. <br/>Se genera un nuevo <code>payment_request_id</code> en cada solicitud para *Crear un nuevo link de pago*.","format":"uuid","maxLength":36},"purchase_description":{"description":"Texto describiendo la compra. Visible para el cliente en la UI o el recibo. <br/>**Formato** UTF-8 <br/> Se aceptan los siguientes caracteres especiales `~!@#$%^&*()\\\\=+\\\\\\\\|\\\\[{\\\\]};:'\\\"<>/?","type":"string"},"last_status_message":{"type":"string","description":"Mensaje del último estado del link de pago dependiendo del elemento status."},"payment_request_url":{"type":"string","description":"Link de pago a donde se redirigirá al cliente."},"redirection_url":{"$ref":"#/components/schemas/redirection_url"},"currency":{"type":"string","description":"Código de tres caracteres representando la moneda. <br/>**Formato** ISO 4217 (3 caracteres en mayúsculas)."},"modified_at":{"type":"string","description":"Indica la fecha y hora de modificación del enlace de pago."},"status":{"type":"string","description":"Estado actual del link de pago. Los estados posibles son <br/>**CHECKOUT_CREATED** El link de pago fue creado exitosamente.<br/>**CHECKOUT_PENDING**  El link de pago está activo y pendiente de ser completado.<br/> **CHECKOUT_CANCELLED** El link de pago fue cancelado por exceso de intentos (máximo 5).<br/> **CHECKOUT_EXPIRED** El link de pago expiró.  El link de pago expira después de 1 hora. <br/> **CHECKOUT_COMPLETED** El link de pago se liquidó."}},"example":{"metadata":{"customer_info":{"phone":5512345678,"name":"Alejandro Lee","email":"buyer@mail.com"},"me_reference_id":"OID123456789"},"amount":100.55,"receipt_no":"EyCtYWF","object_type":"payment_link","created_at":"2020-04-30T00:00:00.000Z","expired_at":"2020-04-30T00:00:00.000Z","payment_request_id":"2cbf5775-1cdd-4601-9712-c4a6ab7fa6f5","purchase_description":"Backpack's sale","last_status_message":"Payment request is active","payment_request_url":"https://completa-tu-pago.payclip.com/37f3a2d5-cc9a-4730-b2b8-fac00eb27a3d","redirection_url":{"default":"https://my-website.com/redirection/default","success":"https://my-website.com/redirection/success?me_reference_id=OID123456789","error":"https://my-website.com/redirection/error?me_reference_id=OID123456789"},"currency":"MXN","modified_at":"2020-04-30T00:00:00.000Z","status":"CHECKOUT_COMPLETED"}},"redirection_url":{"description":"Objeto con las URLs para redirección del cliente después de completar una acción.","type":"object","properties":{"success":{"description":"URL a la que se redireccionará al cliente cuando el pago es exitoso.","type":"string"},"error":{"description":"URL a la que se redireccionará al cliente cuando han fallado varios intentos. (5 intentos máximo)","type":"string"},"default":{"description":"URL de la tienda en línea.","type":"string"}},"example":{"success":"https://my-website.com/redirection/success?me_reference_id=OID123456789","error":"https://my-website.com/redirection/error?me_reference_id=OID123456789","default":"https://my-website.com/redirection/default"}},"metadata":{"description":"Objeto que el servicio solicitante puede utilizar para identificar la transacción.","type":"object","properties":{"me_reference_id":{"description":"ID de referencia de la orden para rastrear las transacciones. <br/> Caracteres especiales permitidos Guión medio (-) y Guión bajo (_). <br/>Se permiten acentos. <br/>Los espacios en blanco serán removidos.<br/>**Este parámetro es un ejemplo de lo que puedes incluir dentro del objeto metadata**","type":"string","maxLength":36},"customer_info":{"$ref":"#/components/schemas/customer_info"}},"example":{"me_reference_id":"OID123456789","customer_info":{"name":"Alejandro Lee","email":"buyer@mail.com","phone":5512345678}}},"customer_info":{"description":"Objeto con la información del cliente para el link de pago.  <br/>**Este objeto es un ejemplo de lo que puedes incluir dentro del objeto metadata**","type":"object","properties":{"name":{"description":"Nombre del cliente.","type":"string"},"email":{"description":"Correo electrónico del cliente.","type":"string"},"phone":{"description":"Teléfono de contacto del cliente.","type":"number"}},"example":{"name":"Alejandro Lee","email":"buyer@mail.com","phone":5512345678}},"error":{"description":"Objeto de error.","type":"object","properties":{"message":{"description":"Mensaje detallando el error","type":"string"},"code_message":{"description":"Número del mensaje de error.","type":"string"},"detail":{"description":"Información detallada del error.","type":"string"}}}}}}