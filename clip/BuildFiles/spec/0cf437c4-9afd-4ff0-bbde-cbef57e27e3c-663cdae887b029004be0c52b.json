{"openapi":"3.0.0","info":{"title":"API de Suscripciones","description":"API para la gestión de suscripciones y pagos recurrentes.","contact":{"name":"API Support","email":"soporte-checkout@clip.mx"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"version":"1.0.0"},"x-explorer-enabled":true,"x-samples-enabled":true,"x-proxy-enabled":true,"servers":[{"description":"URL base del ambiente de producción.","url":"https://api.payclip.com"}],"tags":[{"name":"Suscripciones","description":"Gestiona las suscripciones de los usuarios incluyendo creación, consulta y cancelación de precios y suscripciones."}],"paths":{"/prices":{"post":{"summary":"Crear un plan","description":"Permite crear un precio para una suscripción recurrente con características específicas.","tags":["Suscripciones"],"operationId":"crearPlan","security":[{"ApiKeyAuth":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceRequest"}}}},"responses":{"200":{"description":"Plan creado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceResponse"}}}}}},"get":{"summary":"Obtener una lista de todos tus Planes","description":"Retorna una lista de todos los precios disponibles para las suscripciones.","tags":["Suscripciones"],"operationId":"listarPlanes","security":[{"ApiKeyAuth":[]}],"responses":{"200":{"description":"Lista de planes obtenida exitosamente.","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PriceResponse"}}}}}}}},"/prices/{price_id}":{"get":{"summary":"Obtener detalles de un plan","description":"Retorna los detalles de un plan específico usando su ID.","tags":["Suscripciones"],"operationId":"obtenerPlan","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"price_id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Detalles del plan obtenidos exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceResponse"}}}}}},"put":{"summary":"Actualizar un plan","description":"Permite actualizar detalles de un precio específico.","tags":["Suscripciones"],"operationId":"actualizarPlan","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"price_id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceUpdateRequest"}}}},"responses":{"200":{"description":"Precio actualizado exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PriceResponse"}}}}}}},"/subscriptions/{subscription_id}":{"get":{"summary":"Obtener detalles de una suscripción","description":"Retorna los detalles de una suscripción específica usando su ID.","tags":["Suscripciones"],"operationId":"obtenerSuscripcion","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"subscription_id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Detalles de la suscripción obtenidos exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionResponse"}}}}}},"put":{"summary":"Actualizar una suscripción","description":"Permite actualizar el estado de una suscripción.","tags":["Suscripciones"],"operationId":"actualizarSuscripcion","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"subscription_id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionUpdateRequest"}}}},"responses":{"200":{"description":"Suscripción actualizada exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SubscriptionResponse"}}}}}}},"/invoices/{invoice_id}":{"get":{"summary":"Obtener detalles de una factura","description":"Retorna los detalles de una factura específica usando su ID.","tags":["Suscripciones"],"operationId":"obtenerFactura","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"invoice_id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Detalles de la factura obtenidos exitosamente.","content":{"application/json":{"schema":{"$ref":"#/components/schemas/InvoiceResponse"}}}}}}}},"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"Authorization"}},"schemas":{"PriceRequest":{"type":"object","properties":{"name":{"type":"string"},"description":{"type":"string"},"amount":{"type":"number"},"recurring":{"type":"object","properties":{"interval":{"type":"string"},"frequency":{"type":"integer"},"repeat":{"type":"integer"},"billing_day":{"type":"array","items":{"type":"integer"}},"anchor_billing_on_first_payment":{"type":"boolean"},"grace_period_days":{"type":"integer"}}},"additional_information":{"type":"array","items":{"type":"string"}},"webhook_url":{"type":"string"},"redirect_urls":{"type":"object","properties":{"success":{"type":"string"},"error":{"type":"string"},"default":{"type":"string"}}}}},"PriceResponse":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"description":{"type":"string"},"amount":{"type":"number"},"recurring":{"type":"object","properties":{"interval":{"type":"string"},"frequency":{"type":"integer"},"repeat":{"type":"integer"},"billing_day":{"type":"array","items":{"type":"integer"}},"anchor_billing_on_first_payment":{"type":"boolean"},"subscription_link":{"type":"string"},"grace_period_days":{"type":"integer"}}},"status":{"type":"string"},"additional_information":{"type":"array","items":{"type":"string"}},"webhook_url":{"type":"string"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"redirect_urls":{"type":"object","properties":{"success":{"type":"string"},"error":{"type":"string"},"default":{"type":"string"}}}}},"PriceUpdateRequest":{"type":"object","properties":{"redirect_urls":{"type":"object","properties":{"success":{"type":"string"},"error":{"type":"string"},"default":{"type":"string"}}}}},"SubscriptionResponse":{"type":"object","properties":{"id":{"type":"string"},"price_id":{"type":"string"},"customer":{"type":"object","properties":{"first_name":{"type":"string"},"last_name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"}}},"status":{"type":"string"},"additional_information":{"type":"object","properties":{"add_info_1":{"type":"string"},"add_info_2":{"type":"string"},"add_info_3":{"type":"string"},"add_info_4":{"type":"string"}}},"invoices":{"type":"array","items":{"$ref":"#/components/schemas/InvoiceResponse"}},"start_date":{"type":"string","format":"date-time"},"end_date":{"type":"string","format":"date-time"},"created_at":{"type":"string","format":"date-time"},"updated_at":{"type":"string","format":"date-time"},"payment_method":{"type":"object"}}},"SubscriptionUpdateRequest":{"type":"object","properties":{"status":{"type":"string"}}},"InvoiceResponse":{"type":"object","properties":{"id":{"type":"string"},"subscription_id":{"type":"string"},"payment_request_id":{"type":"string"},"amount":{"type":"number"},"due_date":{"type":"string","format":"date-time"},"status":{"type":"string"},"payment":{"type":"object"},"payment_method":{"type":"object","properties":{"type":{"type":"string"},"card_details":{"type":"object","properties":{"id":{"type":"string"},"brand":{"type":"string"},"last4":{"type":"string"},"billing_address":{"type":"string"}}}}},"payment_request_code":{"type":"string"},"additional_information":{"type":"object","properties":{"add_info_1":{"type":"string"},"add_info_2":{"type":"string"},"add_info_3":{"type":"string"},"add_info_4":{"type":"string"}}},"period":{"type":"string"},"paid_at":{"type":"string","format":"date-time"}}}}}}