{"openapi":"3.0.0","info":{"title":"API de depósitos","description":"Settlement API esta diseñado para obtener la información referente a los depósitos realizados en un rango de hasta 90 días. De la misma manera y con la información de los depósitos consultados se puede obtener el detalle de sus transacciones.","contact":{"name":"API Support","email":"developers@clip.mx"},"license":{"name":"Apache 2.0","url":"http://www.apache.org/licenses/LICENSE-2.0.html"},"version":"1.0.0"},"x-explorer-enabled":true,"x-samples-enabled":true,"x-proxy-enabled":true,"servers":[{"description":"URL base del ambiente de producción.","url":"https://api-gw.payclip.com/"}],"tags":[{"name":"Depósitos","description":"La API de Depósitos esta diseñada para obtener la información referente a los depósitos realizados en los últimos 90 días. De la misma manera y con la información de los depósitos consultados se puede obtener un reporte detallado de sus transacciones.\n"}],"paths":{"/settlements":{"get":{"tags":["Depósitos"],"summary":"Obtener resumen de depósitos por periodo","description":"Genera la información de depósitos realizados en el periodo definido en los parámetros. El periodo no puede ser mayor a tres meses de antiguedad (90 días). \nRecuerda que necesitas tu [*token de autenticación*](https://developer.clip.mx/reference/token-de-autenticacion) para realizar las llamadas a la API.","operationId":"settlements","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"from","in":"query","description":"La fecha de inicio no puede ser mayor a 90 días anteriores a la fecha actual. La fecha del parámetro <code>from</code> es de carácter inclusivo. \n\nLa fecha del día actual es parte de los 90 días del periodo máximo de consulta permitido.\n","required":true,"style":"form","explode":true,"schema":{"type":"string","format":"date","default":"2023-08-14"}},{"name":"to","in":"query","description":"La fecha de fin tiene que ser igual o posterior a la fecha de inicio en el parámetro <code>from</code>. \n\nLa fecha del parámetro <code>to</code> es de carácter inclusivo. \n","required":true,"style":"form","explode":true,"schema":{"type":"string","format":"date","default":"2023-09-14"}}],"responses":{"200":{"description":"Solicitud exitosa. La respuesta contiene un objeto del tipo settlements.","content":{"application/json":{"example":{"settlements":[{"disbursement_date":"2022-01-13","settlement_report_id":"W472RZQKV","gross_amount":9300,"total_fee":360,"total_tax":62.14,"total_retention":388.38,"disbursed_net_amount":8911.62,"total_transactions":22,"links":{"self":{"href":"/settlements/W472RZQKV","method":"GET"}}}]}}}},"400":{"description":"Bad request."},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."},"500":{"description":"Internal Server Error."}}}},"/settlements/{settlement_report_id}":{"get":{"tags":["Depósitos"],"summary":"Obtener reporte desglosado de depósitos","description":"Genera un reporte con los detalles del depósito basado en su **Settlement Report ID**.\nRecuerda que necesitas tu [*token de autenticación*](https://developer.clip.mx/reference/token-de-autenticacion) para realizar las llamadas a la API.","operationId":"deposit","security":[{"ApiKeyAuth":[]}],"parameters":[{"name":"settlement_report_id","in":"path","description":"ID del depósito a detallar.\n\nEste parámetro se obtiene de la respuesta del endpoint **GET /settlements**.\n","required":true,"style":"simple","explode":false,"schema":{"type":"string","default":"WJ8QHSCJV"}},{"name":"page_size","in":"query","description":"Número de elementos a mostrar por página. El valor máximo de elementos por página es de 100.","required":false,"explode":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":100},"example":50},{"name":"paging","in":"query","description":"Token de paginación requerido cuando los elementos a mostrar exceden el tamaño de paginación definido en el parámetro <code>paging</code>.","required":false,"explode":false,"schema":{"type":"string","default":"Mg=="}}],"responses":{"200":{"description":"Solicitud exitosa. La respuesta contiene un objeto del tipo settlement.","content":{"application/json":{"example":{"settlement":{"settlement_report_id":"W472RZQKV","merchant_name":"Clip","disbursement_date":"2022-01-13","gross_amount":9300,"disbursed_net_amount":8911.62,"total_transactions":22,"details":[{"date":"2022-01-10","payments":[{"receipt_no":"liNzWOR","payment_date":"2022-01-10","amount":100,"terms":null,"charges":{"charge":{"fee":3.6,"tax":0.58}},"tip":0,"total_retention":4.18,"settled_amount":95.82,"payment_method":"Credit","card":{"brand":"Mastercard","last4":4352,"issuer":"BANAMEX"},"merchant_invoice":null,"user_email":"user@example.com"}]}]},"links":{"next":{"href":"/settlements/GHWRWSFLW?page_size=1&page=eyJjb21wbZSJ9fX0=","method":"GET"}}}}}},"400":{"description":"Bad request."},"401":{"description":"Unauthorized."},"403":{"description":"Forbidden."},"500":{"description":"Internal Server Error."}}}}},"components":{"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"x-api-key"}},"schemas":{"settlements":{"type":"object","properties":{"disbursement_date":{"type":"string","format":"date","description":"Fecha de pago.","example":"2022-01-13"},"settlement_report_id":{"type":"string","description":"ID del reporte de depósitos.","example":"W472RZQKV"},"gross_amount":{"type":"number","description":"Cantidad total antes de impuestos.","example":9300},"total_fee":{"type":"number","description":"Cantidad total de comisión sobre la cantidad antes de impuestos.","example":360},"total_tax":{"type":"number","description":"Cantidad de impuestos por IVA sobre la comisión.","example":62.14},"total_retention":{"type":"number","description":"Cantidad total de comisión e impuestos a deducir. (total_fee + total_tax + installment_fee)","example":388.38},"disbursed_net_amount":{"type":"number","description":"Cantidad a depositar después de impuestos.","example":8911.62},"total_transactions":{"type":"string","description":"Total  de transacciones total en reporte.","example":22},"links":{"type":"object","description":"Objeto de tipo Link. La estructura de este  objeto sigue el diseño de arquitectura HATEOAS para la definición de vínculos de hipermedia.","properties":{"self":{"$ref":"#/components/schemas/self"}}}}},"settlement_response":{"type":"object","description":"Objeto de respuesta que incluye un objeto de tipo Settlement y un objeto de tipo Links.","properties":{"settlement":{"$ref":"#/components/schemas/settlement"},"links":{"type":"object","description":"Objeto de tipo Link.","properties":{"next":{"$ref":"#/components/schemas/next"}}}}},"settlements_response":{"type":"object","properties":{"settlements":{"type":"array","items":{"$ref":"#/components/schemas/settlements"}}}},"settlement":{"type":"object","properties":{"settlement_report_id":{"type":"string","description":"ID del reporte de depósitos a detallar.","example":"W472RZQKV"},"merchant_name":{"type":"string","description":"Nombre del comerciante.","example":"Clip"},"disbursement_date":{"type":"string","description":"Fecha de pago.","example":"2022-01-13"},"gross_amount":{"type":"number","description":"Total antes de impuestos.","example":9300},"disbursed_net_amount":{"type":"number","description":"Cantidad a depositar después de impuestos.","example":8911.62},"total_transactions":{"type":"number","description":"Total de transacciones que contiene el reporte.","example":22},"details":{"type":"array","description":"Arreglo de objetos con el esquema 'details'.","items":{"$ref":"#/components/schemas/details"}}}},"details":{"type":"object","properties":{"date":{"type":"string","format":"date","description":"Fecha del reporte.","example":"2022-01-10"},"payments":{"type":"array","description":"Arreglo de objetos con el esquema 'payment'.","items":{"$ref":"#/components/schemas/payment"}}}},"payment":{"type":"object","properties":{"receipt_no":{"type":"string","description":"ID de la transacción.","example":"liNzWOR"},"payment_date":{"type":"string","format":"date","description":"Fecha de creación del reporte. (AAAA-MM-DD)","example":"2022-01-10"},"amount":{"type":"string","description":"Monto de la transacción en pesos.","example":100},"terms":{"type":"string","description":"Indica si el pago está diferido en mensualidades. Cuando el pago no está diferido, su valor es <code>null</code>.","enum":["3","6","9","12"],"nullable":true,"example":null},"charges":{"type":"object","properties":{"charge":{"type":"object","properties":{"fee":{"type":"string","description":"Comisión en pesos.","example":3.6},"tax":{"type":"string","description":"Cantidad de IVA.","example":0.58}}}}},"tip":{"type":"string","description":"Monto de la propina en pesos.","example":0},"total_retention":{"type":"string","description":"Retención total en pesos.","example":4.18},"settled_amount":{"type":"string","description":"Cantidad a depositar.","example":95.82},"payment_method":{"type":"string","description":"Especifica la categoría de la forma de pago. \n\n-CREDIT: La tarjeta es de crédito.\n\n-DEBIT: La tarjeta es de débito.\n\n-OTHER: La tarjeta no es de débito ni crédito, por ejemplo, tarjeta de vales. \n","enum":["Credit","Debit","Other"],"example":"Credit"},"card":{"type":"object","properties":{"brand":{"type":"string","description":"Tipo de tarjeta utilizada para el pago.","example":"Mastercard"},"last4":{"type":"string","description":"Últimos cuatro dígitos de la tarjeta utilizada para el pago.","example":4352},"issuer":{"type":"string","description":"Banco emisor de la tarjeta.","example":"BANAMEX"}}},"merchant_invoice":{"type":"string","description":"Número proporcionado por el merchant para referencia.","nullable":true,"example":null},"user_email":{"type":"string","description":"Correo electrónico del usuario de Clip.","format":"email","example":"user@example.com"}}},"self":{"type":"object","description":"Objeto de referencia al reporte detallado para el settlement_report_id correspondiente.","properties":{"href":{"type":"string","description":"URL que contiene los detalles del settlement_report_id correspondiente.","example":"/settlements/W472RZQKV"},"method":{"type":"string","description":"Método HTTP al que corresponde el hipervínculo.","example":"GET"}}},"next":{"type":"object","description":"Objeto que contiene el URL de paginación.","properties":{"href":{"type":"string","description":"URL para mostrar el siguiente bloque o página de elementos del arreglo o lista.","example":"/settlements/GHWRWSFLW?page_size=1&page=eyJjb21wb25lbnRzIjp7Iml0ZW1faWQiOnsibmFtZSI6Iml0ZW1faWQiLCJ2YWx1ZSI6IlRSfEdIV1JXU0ZMV3wyMDIwLTAxLTE2VDIyOjUyOjUzWiJ9LCJtZXJjaGFudF9pZCI6eyJuYW1lIjoibWVyY2hhbnRfaWQiLCJ2YWx1ZSI6ImE3Yzk3MGIzLTU2NzEtNDU4Zi04ZjRjLTBhNThiOWJjMTRjZSJ9fX0="},"method":{"type":"string","description":"Método HTTP al que corresponde el intervínculo.","example":"GET"}}}}}}