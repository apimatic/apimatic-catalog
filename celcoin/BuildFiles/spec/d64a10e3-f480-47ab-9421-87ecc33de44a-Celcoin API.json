{"openapi":"3.1.0","info":{"title":"Celcoin API","version":"1.0.0"},"servers":[{"url":"https://openfinance.api.celcoin.com.br"}],"components":{"securitySchemes":{"sec0":{"type":"oauth2","flows":{}}}},"security":[{"sec0":[]}],"paths":{"/openbank/v1/consent":{"post":{"summary":"Criação do Consentimento","description":"","operationId":"criação-do-consentimento","parameters":[{"name":"accept","in":"header","schema":{"type":"string","default":"application/json"}},{"name":"Content-Type","in":"header","schema":{"type":"string","default":"application/json"}},{"name":"Authorization","in":"header","description":"Token gerado no endpoint de autenticação","schema":{"type":"string","default":"token"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"document":{"type":"string","description":"Documento da empresa ou do usuário final que pede o consentimento","default":"string","format":"json"},"documentType":{"type":"string","description":"Tipo de documento utilizado. Pode ser CPF ou CPNJ","default":"string","format":"json"},"partnerId":{"type":"string","description":"Id do partner escolhido para gerar o consentimento","default":"int","format":"json"},"externalTerminal":{"type":"string","description":"Id da requisição do consentimento com o partner em questão. É definido pelo usuário.","default":"string","format":"json"},"externalNSU":{"type":"string","description":"Numero Sequencial Único, utilizado como um segundo identificador do consentimento. É definido pelo usuário.","default":"int","format":"json"},"permissions":{"type":"string","description":"Tipo de permissão do consentimento criado. Abaixo há uma tabela com todos os tipos de permissões disponíveis.","default":"Array","format":"json"},"inputs":{"type":"string","description":"Inputs necessários para que possa acessar a conta do usuário em um determinado partner. Todos os inputs necessários podem ser encontrados no endpoint /partners.","default":"Array","format":"json"},"consentType":{"type":"string","description":"Tipo de consentimento que será garantido. Use o número 1 para uso por demanda - uso único - ou 2 para uso por tempo.","default":"int","format":"json"},"days":{"type":"string","description":"Caso o consentimento seja criado por tempo, esse campo define o número de dias de validade do consentimento. O valor máximo permitido é 365 dias (1 ano)","default":"int","format":"json"}}}}}},"responses":{"200":{"description":"200","content":{"application/json":{"examples":{"Result":{"value":"{\n  \"statusId\": 0,\n  \"statusDescription\": \"string\",\n  \"consentId\": 0,\n  \"partnerId\": 0,\n  \"externalTerminal\": \"string\",\n  \"externalNSU\": 0,\n  \"createdDate\": \"2021-03-12T19:26:30.177Z\"\n}"}},"schema":{"type":"object","properties":{"statusId":{"type":"integer","example":0,"default":0},"statusDescription":{"type":"string","example":"string"},"consentId":{"type":"integer","example":0,"default":0},"partnerId":{"type":"integer","example":0,"default":0},"externalTerminal":{"type":"string","example":"string"},"externalNSU":{"type":"integer","example":0,"default":0},"createdDate":{"type":"string","example":"2021-03-12T19:26:30.177Z"}}}}}},"422":{"description":"422","content":{"application/json":{"examples":{"Result":{"value":"{\n  \"code\": 0,\n  \"description\": \"string\"\n}"}},"schema":{"type":"object","properties":{"code":{"type":"integer","example":0,"default":0},"description":{"type":"string","example":"string"}}}}}}},"deprecated":false,"x-readme":{"code-samples":[{"language":"curl","code":"curl -X POST \"https://sandbox.openfinance.celcoin.com.br/openbank/v1/consent\" -H \"accept: application/json\" -H \"Content-Type: application/json-patch+json\" -D \"{\\\"document\\\":\\\"string\\\",\\\"documentType\\\":\\\"string\\\",\\\"partnerId\\\":0,\\\"externalTerminal\\\":\\\"string\\\",\\\"externalNSU\\\":0,\\\"permissions\\\":[0],\\\"inputs\\\":[{\\\"partnerInputId\\\":0,\\\"input\\\":\\\"string\\\"}],\\\"consentType\\\":1,\\\"days\\\":0}\"","name":"cURL sandbox"},{"language":"curl","code":"curl -X POST \"https://openfinance.api.celcoin.com.br/openbanking/v5/token\" -H \"accept: /\" -H \"Content-Type: multipart/form-data\" -F \"client_id=$CLIENT_ID\" -F \"grant_type=$GRANT\" -F \"client_secret=$SECRET\"","name":"cURL production"}],"samples-languages":["curl"]}}}},"x-readme":{"headers":[],"explorer-enabled":true,"proxy-enabled":true},"x-readme-fauxas":true}