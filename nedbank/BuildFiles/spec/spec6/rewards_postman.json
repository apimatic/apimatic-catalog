{
	"info": {
		"_postman_id": "81a0d511-7a70-45d2-a184-43ce138dac93",
		"name": "Rewards API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "5582195"
	},
	"item": [
		{
			"name": "Rewards",
			"item": [
				{
					"name": "1 Request Token (light)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var JSONData = pm.response.json();",
									"pm.environment.set(\"light_token\", JSONData.access_token);",
									"",
									"pm.test(\"status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"light token is retrieved\", function () {",
									"    pm.expect(pm.response.text()).to.include(\"access_token\");",
									"});",
									"",
									"//light token in collection scope",
									"pm.collectionVariables.set(\"light_token\", JSONData.access_token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"type": "text",
								"value": "application/json",
								"description": "The data type being sent to the endpoint"
							},
							{
								"key": "Accept",
								"type": "text",
								"value": "application/json",
								"description": "The data type the endpoint will accept"
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "client_id",
									"value": "<YOUR CLIENT ID>",
									"description": "The client ID you received when creating the app in the portal.\n\n",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "<YOUR CLIENT SECRET>",
									"description": "The client secret you received when creating the app in the portal.\n",
									"type": "text"
								},
								{
									"key": "scope",
									"value": "tpp_client_credential",
									"description": "The grant type to be used",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"description": "Scope of the api call",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://api.nedbank.co.za/apimarket/sandbox/nboauth/oauth20/token",
							"protocol": "https",
							"host": [
								"api",
								"nedbank",
								"co",
								"za"
							],
							"path": [
								"apimarket",
								"sandbox",
								"nboauth",
								"oauth20",
								"token"
							]
						}
					},
					"response": [
						{
							"name": "sample response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"type": "text",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"type": "text",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "client_id",
											"value": "<YOUR CLIENT ID>",
											"description": "The client ID you received when creating the app in the portal.\n\n",
											"type": "text"
										},
										{
											"key": "client_secret",
											"value": "<YOUR CLIENT SECRET>",
											"description": "The client secret you received when creating the app in the portal.\n",
											"type": "text"
										},
										{
											"key": "scope",
											"value": "tpp_client_credential",
											"description": "The grant type to be used",
											"type": "text"
										},
										{
											"key": "grant_type",
											"value": "client_credentials",
											"description": "Scope of the api call",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "https://api.nedbank.co.za/apimarket/sandbox/nboauth/oauth20/token",
									"protocol": "https",
									"host": [
										"api",
										"nedbank",
										"co",
										"za"
									],
									"path": [
										"apimarket",
										"sandbox",
										"nboauth",
										"oauth20",
										"token"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"access_token\": \"efAtXeQFnso4VnF5f7Gd\",\n    \"scope\": \"tpp_client_credential\",\n    \"token_type\": \"bearer\",\n    \"expires_in\": 3599\n}"
						}
					]
				},
				{
					"name": "2 Create Intent",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var JSONData = pm.response.json();",
									"pm.collectionVariables.set(\"subscription_id\", JSONData.Data.subscription_id);",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-ibm-client-id",
								"value": "<YOUR CLIENT ID>",
								"description": "The client ID you received when creating the app on the portal.\n"
							},
							{
								"key": "x-ibm-client-secret",
								"value": "<YOUR CLIENT SECRET>",
								"description": "The client secret you received when creating the app on the portal."
							},
							{
								"key": "Authorization",
								"value": "Bearer {{light_token}}",
								"description": "The access token you received from the previous call. Replace <ACCESS_TOKEN> with the token you received.\n"
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": "The data type being sent to the endpoint\n"
							},
							{
								"key": "x-fapi-financial-id",
								"value": "OB/2017/001",
								"description": "Financial ID"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n                \"Data\": {\r\n                    \"Permissions\":[\"ReadBalances\", \"ReadAccounts\"],\r\n                    \"ExpirationDateTime\": \"2029-05-02T00:00:00-00:00\"\r\n                },\r\n                \"Risk\": {}\r\n}"
						},
						"url": {
							"raw": "https://api.nedbank.co.za/apimarket/sandbox/open-banking/v1/subscriptions",
							"protocol": "https",
							"host": [
								"api",
								"nedbank",
								"co",
								"za"
							],
							"path": [
								"apimarket",
								"sandbox",
								"open-banking",
								"v1",
								"subscriptions"
							]
						}
					},
					"response": [
						{
							"name": "sample response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "x-ibm-client-id",
										"value": "<YOUR CLIENT ID>",
										"description": "The client ID you received when creating the app on the portal.\n"
									},
									{
										"key": "x-ibm-client-secret",
										"value": "<YOUR CLIENT SECRET>",
										"description": "The client secret you received when creating the app on the portal."
									},
									{
										"key": "Authorization",
										"value": "Bearer {{light_token}}",
										"description": "The access token you received from the previous call. Replace <ACCESS_TOKEN> with the token you received.\n"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"description": "The data type being sent to the endpoint\n",
										"type": "text"
									},
									{
										"key": "x-fapi-financial-id",
										"value": "OB/2017/001",
										"description": "Financial ID"
									},
									{
										"key": "",
										"value": "",
										"type": "text",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n                \"Data\": {\r\n                    \"Permissions\":[\"ReadBalances\", \"ReadAccounts\"],\r\n                    \"ExpirationDateTime\": \"2029-05-02T00:00:00-00:00\"\r\n                },\r\n                \"Risk\": {}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://api.nedbank.co.za/apimarket/sandbox/open-banking/v1/subscriptions",
									"protocol": "https",
									"host": [
										"api",
										"nedbank",
										"co",
										"za"
									],
									"path": [
										"apimarket",
										"sandbox",
										"open-banking",
										"v1",
										"subscriptions"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\r\n    \"Data\": {\r\n        \"subscription_id\": \"0f42f4f9-b658-4c29-b203-21640760feae\",\r\n        \"Status\": \"AwaitingAuthorisation\",\r\n        \"CreationDateTime\": \"2021-10-28T15:33:01.621Z\",\r\n        \"Permissions\": [\r\n            \"ReadBalances\",\r\n            \"ReadAccounts\"\r\n        ],\r\n        \"ExpirationDateTime\": \"2029-05-02T00:00:00-00:00\"\r\n    },\r\n    \"Risk\": {},\r\n    \"Links\": {\r\n        \"self\": \"http://localhost:3000/api/open-banking/v1/subscriptions/0f42f4f9-b658-4c29-b203-21640760feae\"\r\n    },\r\n    \"Meta\": {\r\n        \"total-pages\": 1\r\n    }\r\n}"
						}
					]
				},
				{
					"name": "3 Create Authorisation URL",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://api-market.nedbank.co.za/apim02/sandbox/authserver/authurl?response_type=code&scope=openid,rewards&redirect_uri=<REDIRECT URI>&client_id=<CLIENT ID>&intentid={{subscription_id}}&itype=rewards&state=<YOUR UNIQUE IDENTIFIER>",
							"protocol": "https",
							"host": [
								"api-market",
								"nedbank",
								"co",
								"za"
							],
							"path": [
								"apim02",
								"sandbox",
								"authserver",
								"authurl"
							],
							"query": [
								{
									"key": "response_type",
									"value": "code",
									"description": "The type of data the endpoint will respond with.\n"
								},
								{
									"key": "scope",
									"value": "openid,rewards",
									"description": "The type of the scope of the call"
								},
								{
									"key": "redirect_uri",
									"value": "<REDIRECT URI>",
									"description": "URI that the authorization must redirect the request to after completion."
								},
								{
									"key": "client_id",
									"value": "<CLIENT ID>",
									"description": "Your client id, received when you registered your app on the developer portal"
								},
								{
									"key": "intentid",
									"value": "{{subscription_id}}",
									"description": "The Reward request ID you received from the previous call."
								},
								{
									"key": "itype",
									"value": "rewards",
									"description": "This is the type of intent"
								},
								{
									"key": "state",
									"value": "<YOUR UNIQUE IDENTIFIER>",
									"description": "Any value that you can use to uniquely identify the request when it comes back to your redirect uri."
								}
							]
						}
					},
					"response": [
						{
							"name": "sample response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://api-market.nedbank.co.za/apim02/sandbox/authserver/authurl?response_type=code&scope=openid,rewards&redirect_uri=<REDIRECT URI>&client_id=<CLIENT ID>&intentid={{subscription_id}}&itype=rewards&state=rewards",
									"protocol": "https",
									"host": [
										"api-market",
										"nedbank",
										"co",
										"za"
									],
									"path": [
										"apim02",
										"sandbox",
										"authserver",
										"authurl"
									],
									"query": [
										{
											"key": "response_type",
											"value": "code",
											"description": "The type of data the endpoint will respond with.\n"
										},
										{
											"key": "scope",
											"value": "openid,rewards",
											"description": "The type of the scope of the call"
										},
										{
											"key": "redirect_uri",
											"value": "<REDIRECT URI>",
											"description": "URI that the authorization must redirect the request to after completion."
										},
										{
											"key": "client_id",
											"value": "<CLIENT ID>",
											"description": "Your client id, received when you registered your app on the developer portal"
										},
										{
											"key": "intentid",
											"value": "{{subscription_id}}",
											"description": "The Reward request ID you received from the previous call."
										},
										{
											"key": "itype",
											"value": "rewards",
											"description": "This is the type of intent"
										},
										{
											"key": "state",
											"value": "rewards",
											"description": "Any value that you can use to uniquely identify the request when it comes back to your redirect uri."
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"description\": \"Note this is a helper service to generate an authorisation URL.  For Development use only.\",\n    \"url\": \"https://api.nedbank.co.za/apimarket/sandbox/nboauth/oauth20/authorize?client_id=<CLIENT ID>&intentid=&redirect_uri=<REDIRECT URI>&scope=openid,rewards&itype=rewards&state=rewards&response_type=code\"\n}"
						}
					]
				},
				{
					"name": "4 Request Token (heavy)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var JSONData = pm.response.json();",
									"",
									"pm.environment.set(\"heavy_token\", JSONData.access_token);",
									"",
									"",
									"pm.test(\"status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.collectionVariables.set(\"heavy_token\", JSONData.access_token);",
									"pm.collectionVariables.set(\"refresh_token\", JSONData.refresh_token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "client_id",
									"value": "<YOUR CLIENT ID>",
									"description": "The client ID you received when creating the app in the portal.",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "<YOUR CLIENT SECRET>",
									"description": "The client secret you received when creating the app in the portal.",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "authorization_code",
									"description": "The grant type to be used",
									"type": "text"
								},
								{
									"key": "code",
									"value": "<CODE>",
									"description": "Replace with the code you received from the previous call.",
									"type": "text"
								},
								{
									"key": "redirect_uri",
									"value": "<REDIRECT URI>",
									"description": "Replace with the redirect uri you used in the previous call.",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://api.nedbank.co.za/apimarket/sandbox/nboauth/oauth20/token",
							"protocol": "https",
							"host": [
								"api",
								"nedbank",
								"co",
								"za"
							],
							"path": [
								"apimarket",
								"sandbox",
								"nboauth",
								"oauth20",
								"token"
							]
						}
					},
					"response": [
						{
							"name": "sample response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/x-www-form-urlencoded"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "client_id",
											"value": "<YOUR CLIENT ID>",
											"description": "The client ID you received when creating the app in the portal.",
											"type": "text"
										},
										{
											"key": "client_secret",
											"value": "<YOUR CLIENT SECRET>",
											"description": "The client secret you received when creating the app in the portal.",
											"type": "text"
										},
										{
											"key": "grant_type",
											"value": "authorization_code",
											"description": "the grant type to be used",
											"type": "text"
										},
										{
											"key": "code",
											"value": "kLI4fgeRC4r0YC9bCeQ9RHOsPM3pX3",
											"description": "Replace with the code you received from the previous call.",
											"type": "text"
										},
										{
											"key": "redirect_uri",
											"value": "<REDIRECT URI>",
											"description": "Replace with the redirect uri you used in the previous call.",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "https://api.nedbank.co.za/apimarket/sandbox/nboauth/oauth20/token",
									"protocol": "https",
									"host": [
										"api",
										"nedbank",
										"co",
										"za"
									],
									"path": [
										"apimarket",
										"sandbox",
										"nboauth",
										"oauth20",
										"token"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"access_token\": \"e0RZeMfPmAoGQZxlY6Gf\",\n    \"refresh_token\": \"1LKTff9nRieVH1wPll7rNsa0vQPBfew7MOkpSItg\",\n    \"scope\": \"openid rewards\",\n    \"id_token\": \"eyJraWQiOiJicC00VmdDWUFhSTRicnZqS0FRb3NzY3U0WVpiWFdDczJsNF9xc0hVZjNvIiwiYWxnIjoiUlMyNTYifQ.eyJydF9oYXNoIjoiQl9aVHFRbVVqWnhNTmp2YThmdGkxQSIsImlhdCI6MTYzNTUwNjE4OCwiaXNzIjoiaHR0cHM6Ly9uZWRiYW5rLmNvLnphIiwiYXRfaGFzaCI6IkNVbXliekdVM0Z2dnRSeEZEaDhGRXciLCJzdWIiOiIzNzE2Mzc2NjQzIiwiZXhwIjoxNjM1NTA5Nzg4LCJhdWQiOiI1MDBhYWU4ZS01ZmIwLTRkZGUtOTNkYi1lMjU3NmUwYjQ3YWYifQ.R91uhoDeAUdttRF4birmGfs3GIrlso3lFh4doOQZ0UoyynZH5v-2HbEGwSQpmlaZ-tFIp-6mBprHsH37INc1DSav1xO46Sa4Q7dq9G2dsags3fh_sOmmnrJ_iDQCNR3FJm_nyzogS8IzqGsMeGMVi8xTgdFsE9TabgoTQNLTyrKpBbDdr5g0eAsaZJYm6qNP3hrPl7pupnAlp2dF1FBsf9ZMmZzHslYAWXrduqOpOMQgGEknyoWZAukzOXKKO5cbUoACIOK7AhRBE9wYJRTdk3gs5HeipEhuqXvoVxoEmW2FRQ5_Z11BXn_E4KtoOuZftqsWtyEY-uUZGNbNK2TW1w\",\n    \"token_type\": \"bearer\",\n    \"expires_in\": 3599\n}"
						}
					]
				},
				{
					"name": "5 Get rewards accounts",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"",
									"var jsonData = pm.response.json();",
									"",
									"//Account ID ",
									"pm.collectionVariables.set(\"account_id\", jsonData.Data[0].RewardsAccountId);",
									"",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-ibm-client-id",
								"value": "<YOUR CLIENT ID>",
								"type": "text",
								"description": "The client ID you received when creating the app on the portal."
							},
							{
								"key": "x-ibm-client-secret",
								"value": "<YOUR CLIENT SECRET>",
								"type": "text",
								"description": "The client secret you received when creating the app on the portal."
							},
							{
								"key": "Authorization",
								"value": "Bearer {{heavy_token}}",
								"type": "text",
								"description": "Replace with the heavy/submission access token you received from the previous call."
							},
							{
								"key": "x-fapi-financial-id",
								"value": "OB/2017/001",
								"type": "text",
								"description": "Financial ID."
							}
						],
						"url": {
							"raw": "https://api.nedbank.co.za/apimarket/sandbox/open-banking/rewards/accounts",
							"protocol": "https",
							"host": [
								"api",
								"nedbank",
								"co",
								"za"
							],
							"path": [
								"apimarket",
								"sandbox",
								"open-banking",
								"rewards",
								"accounts"
							]
						}
					},
					"response": [
						{
							"name": "sample response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "x-ibm-client-id",
										"value": "<YOUR CLIENT ID>",
										"type": "text",
										"description": "The client ID you received when creating the app on the portal."
									},
									{
										"key": "x-ibm-client-secret",
										"value": "<YOUR CLIENT SECRET>",
										"type": "text",
										"description": "The client secret you received when creating the app on the portal."
									},
									{
										"key": "Authorization",
										"value": "Bearer {{heavy_token}}",
										"type": "text",
										"description": "Replace with the heavy/submission access token you received from the previous call."
									},
									{
										"key": "x-fapi-financial-id",
										"value": "OB/2017/001",
										"type": "text",
										"description": "Financial ID."
									}
								],
								"url": {
									"raw": "https://api.nedbank.co.za/apimarket/sandbox/open-banking/rewards/accounts",
									"protocol": "https",
									"host": [
										"api",
										"nedbank",
										"co",
										"za"
									],
									"path": [
										"apimarket",
										"sandbox",
										"open-banking",
										"rewards",
										"accounts"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\r\n    \"Data\": [\r\n        {\r\n            \"RewardsAccountId\": \"460000123456\",\r\n            \"RewardsAccountName\": \"Consumer\",\r\n            \"Amount\": {\r\n                \"Amount\": \"20502418557\",\r\n                \"Currency\": \"GB\"\r\n            }\r\n        }\r\n    ],\r\n    \"Links\": {\r\n        \"self\": \"undefined/api/open-banking/rewards/accounts\"\r\n    },\r\n    \"Meta\": {\r\n        \"total-pages\": 1\r\n    }\r\n} "
						}
					]
				},
				{
					"name": "6 Get Rewards balance",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "x-ibm-client-id",
								"value": "<YOUR CLIENT ID>",
								"type": "text",
								"description": "The client ID you received when creating the app on the portal."
							},
							{
								"key": "x-ibm-client-secret",
								"value": "<YOUR CLIENT SECRET>",
								"type": "text",
								"description": "The client secret you received when creating the app on the portal."
							},
							{
								"key": "Authorization",
								"value": "Bearer {{heavy_token}}",
								"type": "text",
								"description": "Replace with the heavy/submission access token you received from the previous call."
							},
							{
								"key": "x-fapi-financial-id",
								"value": "OB/2017/001",
								"type": "text",
								"description": "Financial ID."
							}
						],
						"url": {
							"raw": "https://api.nedbank.co.za/apimarket/sandbox/open-banking/rewards/{{account_id}}/balances",
							"protocol": "https",
							"host": [
								"api",
								"nedbank",
								"co",
								"za"
							],
							"path": [
								"apimarket",
								"sandbox",
								"open-banking",
								"rewards",
								"{{account_id}}",
								"balances"
							]
						}
					},
					"response": [
						{
							"name": "sample response",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "x-ibm-client-id",
										"value": "<YOUR CLIENT ID>",
										"type": "text",
										"description": "The client ID you received when creating the app on the portal."
									},
									{
										"key": "x-ibm-client-secret",
										"value": "<YOUR CLIENT SECRET>",
										"type": "text",
										"description": "The client secret you received when creating the app on the portal."
									},
									{
										"key": "Authorization",
										"value": "Bearer {{heavy_token}}",
										"type": "text",
										"description": "Replace with the heavy/submission access token you received from the previous call."
									},
									{
										"key": "x-fapi-financial-id",
										"value": "OB/2017/001",
										"type": "text",
										"description": "Financial ID."
									}
								],
								"url": {
									"raw": "https://api.nedbank.co.za/apimarket/sandbox/open-banking/rewards/{{account_id}}/balances",
									"protocol": "https",
									"host": [
										"api",
										"nedbank",
										"co",
										"za"
									],
									"path": [
										"apimarket",
										"sandbox",
										"open-banking",
										"rewards",
										"{{account_id}}",
										"balances"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\r\n    \"Data\": [\r\n        {\r\n            \"RewardsAccountId\": \"460000123456\",\r\n            \"Amount\": {\r\n                \"Amount\": \"20502418557\",\r\n                \"Currency\": \"GB\"\r\n            },\r\n            \"DateTime\": \"2022-12-28T08:21:04.563Z\"\r\n        }\r\n    ],\r\n    \"Links\": {\r\n        \"self\": \"undefined/api/open-banking/rewards/460000123456/balances\"\r\n    },\r\n    \"Meta\": {\r\n        \"total-pages\": 1\r\n    }\r\n} "
						}
					]
				},
				{
					"name": "7 Refresh heavy token",
					"protocolProfileBehavior": {
						"disabledSystemHeaders": {}
					},
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "client_id",
									"value": "<YOUR CLIENT ID>",
									"description": "The client ID you received when creating the app in the portal.",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "<YOUR CLIENT SECRET>",
									"description": "The client secret you received when creating the app in the portal.",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "refresh_token",
									"description": "The grant type to be used.",
									"type": "text"
								},
								{
									"key": "refresh_token",
									"value": "{{refresh_token}}",
									"description": "The refresh token you received when you are making heavy token call.",
									"type": "text"
								},
								{
									"key": "redirect_uri",
									"value": "<REDIRECT URI>",
									"description": "Replace with the redirect uri you used in the previous call.",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://api.nedbank.co.za/apimarket/sandbox/nboauth/oauth20/token",
							"protocol": "https",
							"host": [
								"api",
								"nedbank",
								"co",
								"za"
							],
							"path": [
								"apimarket",
								"sandbox",
								"nboauth",
								"oauth20",
								"token"
							]
						}
					},
					"response": [
						{
							"name": "sample response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "client_id",
											"value": "<YOUR CLIENT ID>",
											"description": "The client ID you received when creating the app in the portal.",
											"type": "text"
										},
										{
											"key": "client_secret",
											"value": "<YOUR CLIENT SECRET>",
											"description": "The client secret you received when creating the app in the portal.",
											"type": "text"
										},
										{
											"key": "grant_type",
											"value": "refresh_token",
											"description": "The grant type to be used.",
											"type": "text"
										},
										{
											"key": "refresh_token",
											"value": "{{refresh_token}}",
											"description": "The refresh token you received when you are making heavy token call.",
											"type": "text"
										},
										{
											"key": "redirect_uri",
											"value": "<REDIRECT URI>",
											"description": "Replace with the redirect uri you used in the previous call.",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "https://api.nedbank.co.za/apimarket/sandbox/nboauth/oauth20/token",
									"protocol": "https",
									"host": [
										"api",
										"nedbank",
										"co",
										"za"
									],
									"path": [
										"apimarket",
										"sandbox",
										"nboauth",
										"oauth20",
										"token"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"access_token\": \"wOvryaGt3JLg9tZvYUvs\",\n    \"refresh_token\": \"bfDYEEi7tUoxdxMc543wkfQTfS9IJSYbNvYpRgKd\",\n    \"scope\": \"openid rewards\",\n    \"id_token\": \"eyJraWQiOiJicC00VmdDWUFhSTRicnZqS0FRb3NzY3U0WVpiWFdDczJsNF9xc0hVZjNvIiwiYWxnIjoiUlMyNTYifQ.eyJydF9oYXNoIjoia21TdVFHM1VRY2VHcXoyTUFBT2VaUSIsImlhdCI6MTYzNTUwNjM2MiwiaXNzIjoiaHR0cHM6Ly9uZWRiYW5rLmNvLnphIiwiYXRfaGFzaCI6Imh2U0s1MDNDbjA2VHp6Qk9OVXl3MXciLCJzdWIiOiIzNzE2Mzc2NjQzIiwiZXhwIjoxNjM1NTA5OTYyLCJhdWQiOiI1MDBhYWU4ZS01ZmIwLTRkZGUtOTNkYi1lMjU3NmUwYjQ3YWYifQ.RA3LhDl_9BZlJ90D5boQpwaDhhry9XLX-WLku3jvmoiRRQbUcGm5_Ro-NQ6IJfE7KsgOg_K4fTvqtbx7mMmhn1Cr1CqDEb7zme8iLWsabEVOo3_OsCVEcJM9TSzycCalTcNHPnJxpB5FJpGxsqAfqJfbTEEKOeFlJy2w2fg74ESR1iq78xkZIeJoOsPJNNDfpeDGsBXyqm7kazv01V6lIYPmNQWN8fvbU8zqE2kpkZS9MhGwbX9WoFJoxaPJRY7Cpk9XyE4N7_Fs-ZSdPCTrX9QBlSzODsA2kYtEXc6TnG-aiR65T8DKcSmqCxqdHanafh_-i6NEyl3W7CuidBXuTg\",\n    \"token_type\": \"bearer\",\n    \"expires_in\": 3699\n}"
						}
					]
				}
			]
		},
		{
			"name": "Redemptions",
			"item": [
				{
					"name": "1 Request Token (light)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var JSONData = pm.response.json();",
									"pm.environment.set(\"light_token\", JSONData.access_token);",
									"",
									"//test script for validating responses",
									"",
									"pm.test(\"status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"light token is retrieved\", function () {",
									"    pm.expect(pm.response.text()).to.include(\"access_token\");",
									"});",
									"pm.collectionVariables.set(\"light_token\", JSONData.access_token);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "client_id",
									"value": "<YOUR CLIENT ID>",
									"description": "The client ID you received when creating the app on the portal.",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "<YOUR CLIENT SECRET>",
									"description": "The client secret you received when creating the app on the portal.",
									"type": "text"
								},
								{
									"key": "scope",
									"value": "tpp_client_credential",
									"description": "Scope of the api call",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "client_credentials",
									"description": "The grant type to be used",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://api.nedbank.co.za/apimarket/sandbox/nboauth/oauth20/token",
							"protocol": "https",
							"host": [
								"api",
								"nedbank",
								"co",
								"za"
							],
							"path": [
								"apimarket",
								"sandbox",
								"nboauth",
								"oauth20",
								"token"
							]
						}
					},
					"response": [
						{
							"name": "sample response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Accept",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "client_id",
											"value": "<YOUR CLIENT ID>",
											"description": "The client ID you received when creating the app on the portal.",
											"type": "text"
										},
										{
											"key": "client_secret",
											"value": "<YOUR CLIENT SECRET>",
											"description": "The client secret you received when creating the app on the portal.",
											"type": "text"
										},
										{
											"key": "scope",
											"value": "tpp_client_credential",
											"description": "Scope of the api call",
											"type": "text"
										},
										{
											"key": "grant_type",
											"value": "client_credentials",
											"description": "The grant type to be used",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "https://api.nedbank.co.za/apimarket/sandbox/nboauth/oauth20/token",
									"protocol": "https",
									"host": [
										"api",
										"nedbank",
										"co",
										"za"
									],
									"path": [
										"apimarket",
										"sandbox",
										"nboauth",
										"oauth20",
										"token"
									]
								}
							},
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"access_token\": \"RQ4SVDuWR4wkaC9XOQRi\",\n    \"scope\": \"tpp_client_credential\",\n    \"token_type\": \"bearer\",\n    \"expires_in\": 3599\n}"
						}
					]
				},
				{
					"name": "2 Create Intent",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var JSONData = pm.response.json();",
									"pm.collectionVariables.set(\"subscription_id\", JSONData.Data.subscription_id);",
									"",
									"",
									""
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-ibm-client-id",
								"value": "<YOUR CLIENT ID>",
								"description": "The client ID you received when creating the app on the portal."
							},
							{
								"key": "x-ibm-client-secret",
								"value": "<YOUR CLIENT SECRET>",
								"description": "The client secret you received when creating the app on the portal."
							},
							{
								"key": "Authorization",
								"value": "Bearer {{light_token}}",
								"description": "The access token you received from the previous call. Replace <ACCESS_TOKEN> with the token you received."
							},
							{
								"key": "Content-Type",
								"value": "application/json",
								"description": "The data type being sent to the endpoint"
							},
							{
								"key": "x-fapi-financial-id",
								"value": "OB/2017/001",
								"description": "Financial ID"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n\t\"Data\": {\r\n        \"Permissions\":[\"Redemptions\"],\r\n\t\t\"Initiation\": {\r\n            \"RewardsAccountId\": \"460000635367\",\r\n            \"EndToEndIdentification\": \"abv15\",\r\n\t\t\t\"InstructionIdentification\": \"c6154\",\r\n\t\t\t\"InstructedAmount\": {\r\n\t\t\t\t\"Amount\": \"1\",\r\n                \"Code\": \"APIMP1\"\r\n\t\t\t},\r\n\t\t\t\"RedemptionInformation\": {\r\n\t\t\t\t\"SupplierName\": \"APIM\",\r\n\t\t\t\t\"SupplierCode\": \"APIM\",\r\n                \"Reference\": \"APIM Top UP - 001\",\r\n\t\t\t\t\"Unstructured\": \"Internal ops code 5120101\"\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}"
						},
						"url": {
							"raw": "https://api.nedbank.co.za/apimarket/sandbox/open-banking/v1/subscriptions",
							"protocol": "https",
							"host": [
								"api",
								"nedbank",
								"co",
								"za"
							],
							"path": [
								"apimarket",
								"sandbox",
								"open-banking",
								"v1",
								"subscriptions"
							]
						}
					},
					"response": [
						{
							"name": "sample response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "x-ibm-client-id",
										"value": "<YOUR CLIENT ID>",
										"description": "The client ID you received when creating the app on the portal."
									},
									{
										"key": "x-ibm-client-secret",
										"value": "<YOUR CLIENT SECRET>",
										"description": "The client secret you received when creating the app on the portal."
									},
									{
										"key": "Authorization",
										"value": "Bearer {{light_token}}",
										"description": "The access token you received from the previous call. Replace <ACCESS_TOKEN> with the token you received."
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"description": "The data type being sent to the endpoint",
										"type": "text"
									},
									{
										"key": "x-fapi-financial-id",
										"value": "OB/2017/001",
										"description": "Financial ID"
									},
									{
										"key": "",
										"value": "",
										"type": "text",
										"disabled": true
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n\t\"Data\": {\r\n        \"Permissions\":[\"Redemptions\"],\r\n\t\t\"Initiation\": {\r\n            \"RewardsAccountId\": \"460000123456\",\r\n            \"EndToEndIdentification\": \"abv15\",\r\n\t\t\t\"InstructionIdentification\": \"c6154\",\r\n\t\t\t\"InstructedAmount\": {\r\n\t\t\t\t\"Amount\": \"1\",\r\n                \"Code\": \"APIMP1\"\r\n\t\t\t},\r\n\t\t\t\"RedemptionInformation\": {\r\n\t\t\t\t\"SupplierName\": \"APIM\",\r\n\t\t\t\t\"SupplierCode\": \"APIM\",\r\n                \"Reference\": \"APIM Top UP - 001\",\r\n\t\t\t\t\"Unstructured\": \"Internal ops code 5120101\"\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://api.nedbank.co.za/apimarket/sandbox/open-banking/v1/subscriptions",
									"protocol": "https",
									"host": [
										"api",
										"nedbank",
										"co",
										"za"
									],
									"path": [
										"apimarket",
										"sandbox",
										"open-banking",
										"v1",
										"subscriptions"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"Data\": {\n        \"subscription_id\": \"f5e05cfe-12b9-4904-9530-38ca79433559\",\n        \"Status\": \"AwaitingAuthorisation\",\n        \"CreationDateTime\": \"2021-10-28T14:03:36.886Z\",\n        \"Permissions\": [\n            \"Redemptions\"\n        ],\n        \"Initiation\": {\n            \"RewardsAccountId\": \"460000123456\",\n            \"EndToEndIdentification\": \"abv15\",\n            \"InstructionIdentification\": \"c6154\",\n            \"InstructedAmount\": {\n                \"Amount\": \"1\",\n                \"Code\": \"APIMP1\"\n            },\n            \"RedemptionInformation\": {\n                \"SupplierName\": \"APIM\",\n                \"SupplierCode\": \"APIM\",\n                \"Reference\": \"APIM Top UP - 001\",\n                \"Unstructured\": \"Internal ops code 5120101\"\n            }\n        }\n    },\n    \"Links\": {\n        \"self\": \"http://localhost:3000/api/open-banking/v1/subscriptions/f5e05cfe-12b9-4904-9530-38ca79433559\"\n    },\n    \"Meta\": {\n        \"total-pages\": 1\n    }\n}"
						}
					]
				},
				{
					"name": "3 Create Authorisation URL",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "https://api-market.nedbank.co.za/apim02/sandbox/authserver/authurl?response_type=code&scope=openid,redemptions&redirect_uri=<REDIRECT URI>&client_id=<YOUR CLIENT ID>&intentid={{subscription_id}}&itype=redemptions&state=<YOUR UNIQUE IDENTIFIER>",
							"protocol": "https",
							"host": [
								"api-market",
								"nedbank",
								"co",
								"za"
							],
							"path": [
								"apim02",
								"sandbox",
								"authserver",
								"authurl"
							],
							"query": [
								{
									"key": "response_type",
									"value": "code"
								},
								{
									"key": "scope",
									"value": "openid,redemptions"
								},
								{
									"key": "redirect_uri",
									"value": "<REDIRECT URI>",
									"description": "URI that the authorization must redirect the request to after completion."
								},
								{
									"key": "client_id",
									"value": "<YOUR CLIENT ID>",
									"description": "Your client id, received when you registered your app on the developer portal"
								},
								{
									"key": "intentid",
									"value": "{{subscription_id}}",
									"description": "The Reward request ID you received from the previous call."
								},
								{
									"key": "itype",
									"value": "redemptions",
									"description": "This is the type of intent"
								},
								{
									"key": "state",
									"value": "<YOUR UNIQUE IDENTIFIER>",
									"description": "Any value that you can use to uniquely identify the request when it comes back to your redirect uri."
								}
							]
						}
					},
					"response": [
						{
							"name": "sample response",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "https://api.nedbank.co.za/apimarket/sandbox/nboauth/oauth20/authorize?response_type=code&scope=openid,redemptions&redirect_uri=<REDIRECT URI>&client_id=<YOUR CLIENT ID>&intentid={{subscription_id}}&itype=redemptions&state=redemptions",
									"protocol": "https",
									"host": [
										"api",
										"nedbank",
										"co",
										"za"
									],
									"path": [
										"apimarket",
										"sandbox",
										"nboauth",
										"oauth20",
										"authorize"
									],
									"query": [
										{
											"key": "response_type",
											"value": "code"
										},
										{
											"key": "scope",
											"value": "openid,redemptions"
										},
										{
											"key": "redirect_uri",
											"value": "<REDIRECT URI>",
											"description": "URI that the authorization must redirect the request to after completion."
										},
										{
											"key": "client_id",
											"value": "<YOUR CLIENT ID>",
											"description": "Your client id, received when you registered your app on the developer portal"
										},
										{
											"key": "intentid",
											"value": "{{subscription_id}}",
											"description": "The Reward request ID you received from the previous call."
										},
										{
											"key": "itype",
											"value": "redemptions",
											"description": "This is the type of intent"
										},
										{
											"key": "state",
											"value": "redemptions",
											"description": "Any value that you can use to uniquely identify the request when it comes back to your redirect uri."
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\n    \"description\": \"Note this is a helper service to generate an authorisation URL.  For Development use only.\",\n    \"url\": \"https://api.nedbank.co.za/apimarket/sandbox/nboauth/oauth20/authorize?client_id=<YOUR CLIENT ID>&intentid=&redirect_uri=<REDIRECT URI>&scope=openid,redemptions&itype=redemptions&state=redemptions&response_type=code\"\n}"
						}
					]
				},
				{
					"name": "4 Request Token (heavy)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var JSONData = pm.response.json();",
									"",
									"pm.environment.set(\"heavy_token\", JSONData.access_token);",
									"",
									"",
									"pm.test(\"status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"pm.collectionVariables.set(\"heavy_token\", JSONData.access_token);",
									"pm.collectionVariables.set(\"refresh_token\", JSONData.refresh_token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"name": "Content-Type",
								"value": "application/x-www-form-urlencoded",
								"type": "text",
								"description": "The data type being sent to the endpoint."
							},
							{
								"key": "Accept",
								"value": "application/json",
								"type": "text",
								"description": "The data type the endpoint will accept."
							}
						],
						"body": {
							"mode": "urlencoded",
							"urlencoded": [
								{
									"key": "client_id",
									"value": "<YOUR CLIENT ID>",
									"description": "The client ID you received when creating the app in the portal.\n",
									"type": "text"
								},
								{
									"key": "client_secret",
									"value": "<YOUR CLIENT SECRET>",
									"description": "The client secret you received when creating the app in the portal.",
									"type": "text"
								},
								{
									"key": "grant_type",
									"value": "authorization_code",
									"description": "the grant type to be used",
									"type": "text"
								},
								{
									"key": "code",
									"value": "<CODE>",
									"description": "Replace with the code you received from the previous call.",
									"type": "text"
								},
								{
									"key": "redirect_uri",
									"value": "<REDIRECT URI>",
									"description": "Replace with the redirect uri you used in the previous call.",
									"type": "text"
								}
							]
						},
						"url": {
							"raw": "https://api.nedbank.co.za/apimarket/sandbox/nboauth/oauth20/token",
							"protocol": "https",
							"host": [
								"api",
								"nedbank",
								"co",
								"za"
							],
							"path": [
								"apimarket",
								"sandbox",
								"nboauth",
								"oauth20",
								"token"
							]
						}
					},
					"response": [
						{
							"name": "sample response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/x-www-form-urlencoded",
										"type": "text",
										"description": "The data type being sent to the endpoint."
									},
									{
										"key": "Accept",
										"value": "application/json",
										"type": "text",
										"description": "The data type the endpoint will accept."
									}
								],
								"body": {
									"mode": "urlencoded",
									"urlencoded": [
										{
											"key": "client_id",
											"value": "<YOUR CLIENT ID>",
											"description": "The client ID you received when creating the app in the portal.\n",
											"type": "text"
										},
										{
											"key": "client_secret",
											"value": "<YOUR CLIENT SECRET>",
											"description": "The client secret you received when creating the app in the portal.",
											"type": "text"
										},
										{
											"key": "grant_type",
											"value": "authorization_code",
											"description": "the grant type to be used",
											"type": "text"
										},
										{
											"key": "code",
											"value": "3sEIz3NCqtuDav7MxhQ6TK4XT88a7m",
											"description": "Replace with the code you received from the previous call.",
											"type": "text"
										},
										{
											"key": "redirect_uri",
											"value": "<REDIRECT URI>",
											"description": "Replace with the redirect uri you used in the previous call.",
											"type": "text"
										}
									]
								},
								"url": {
									"raw": "https://api.nedbank.co.za/apimarket/sandbox/nboauth/oauth20/token",
									"protocol": "https",
									"host": [
										"api",
										"nedbank",
										"co",
										"za"
									],
									"path": [
										"apimarket",
										"sandbox",
										"nboauth",
										"oauth20",
										"token"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\r\n    \"access_token\": \"ViB7jTcTF0zCAnTT0mN0\",\r\n    \"refresh_token\": \"ZQUR3IjTlOtb42nq3twrBPJBRz0fq2CprAt3FxAH\",\r\n    \"scope\": \"openid redemptions\",\r\n    \"id_token\": \"eyJraWQiOiJicC00VmdDWUFhSTRicnZqS0FRb3NzY3U0WVpiWFdDczJsNF9xc0hVZjNvIiwiYWxnIjoiUlMyNTYifQ.eyJydF9oYXNoIjoiYmhiRmdpV0J6Y3pBY2hGdzZqTlNuQSIsImlhdCI6MTYzNTUwNjc3NSwiaXNzIjoiaHR0cHM6Ly9uZWRiYW5rLmNvLnphIiwiYXRfaGFzaCI6IjBhdjdnYTE3ODNMN3ZXX0FsWklzWWciLCJzdWIiOiIzNzE2Mzc2NjQzIiwiZXhwIjoxNjM1NTEwMzc1LCJhdWQiOiI1MDBhYWU4ZS01ZmIwLTRkZGUtOTNkYi1lMjU3NmUwYjQ3YWYifQ.gaWX4bTZ9vEn8rwIpWBkQW8ITV2Jue_DfDb3JTFnoVD3N3VDK4l4fpDr94VNb457FKc2FA2NOVkgEwuGdMwsMtCH-CxqxtCgSw2y3E3jYQ2G-cCivr1pIvwvDm9Et-7FaNVtVDeZbPojdre7E9zptXOJpgEg2x4ofIcLejDKUi2l2fVfpOFr2W0sXf9btmsOWwL8-DfWbDFGPnvAV25vN_M5MC9FW-sW6R9c0Bh-zsBB8paMQm91QY-ojSytp3AzsB98ZcwpsTMkNdJABxuygGW089fyM5lTcQGYF6Wuzb5cxy4Yse1zuXTYuVLHQ1XeEco2fmUkx4YnezdrCCqRhw\",\r\n    \"token_type\": \"bearer\",\r\n    \"expires_in\": 3599\r\n}"
						}
					]
				},
				{
					"name": "5 Redeem rewards",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "x-ibm-client-id",
								"type": "text",
								"value": "<YOUR CLIENT ID>",
								"description": "The client ID you received when creating the app on the portal."
							},
							{
								"key": "x-ibm-client-secret",
								"type": "text",
								"value": "<YOUR CLIENT SECRET>",
								"description": "The client secret you received when creating the app on the portal."
							},
							{
								"key": "x-fapi-financial-id",
								"type": "text",
								"value": "OB/2017/001",
								"description": "Financial ID"
							},
							{
								"key": "Content-Type",
								"type": "text",
								"value": "application/json",
								"description": "The content type of the data being sent."
							},
							{
								"key": "Authorization",
								"type": "text",
								"value": "Bearer {{heavy_token}}",
								"description": "Replace with the heavy/submission access token you received from the previous call."
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"Data\": {\r\n            \"Initiation\": {\r\n            \"RewardsAccountId\": \"460000635367\",\r\n            \"EndToEndIdentification\": \"abv15\",\r\n\t\t\t\"InstructionIdentification\": \"c6154\",\r\n            \"InstructedAmount\": {\r\n                \"Amount\": \"1\",\r\n                \"Code\": \"APIMP1\"\r\n            },\r\n            \"RedemptionInformation\": {\r\n                \"SupplierCode\": \"APIM\",\r\n                \"SupplierName\": \"APIM\",\r\n                \"Reference\": \"APIM Top UP - 001\",\r\n                \"Unstructured\": \"Internal ops code 5120101\"\r\n            }\r\n        }\r\n    }\r\n}"
						},
						"url": {
							"raw": "https://api.nedbank.co.za/apimarket/sandbox/open-banking/reward-redemption",
							"protocol": "https",
							"host": [
								"api",
								"nedbank",
								"co",
								"za"
							],
							"path": [
								"apimarket",
								"sandbox",
								"open-banking",
								"reward-redemption"
							]
						}
					},
					"response": [
						{
							"name": "sample response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "x-ibm-client-id",
										"type": "text",
										"value": "<YOUR CLIENT ID>",
										"description": "The client ID you received when creating the app on the portal."
									},
									{
										"key": "x-ibm-client-secret",
										"type": "text",
										"value": "<YOUR CLIENT SECRET>",
										"description": "The client secret you received when creating the app on the portal."
									},
									{
										"key": "x-fapi-financial-id",
										"type": "text",
										"value": "OB/2017/001",
										"description": "Financial ID"
									},
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"description": "The content type of the data being sent.",
										"type": "text"
									},
									{
										"key": "Authorization",
										"type": "text",
										"value": "Bearer {{heavy_token}}",
										"description": "Replace with the heavy/submission access token you received from the previous call."
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"Data\": {\r\n            \"Initiation\": {\r\n            \"RewardsAccountId\": \"460000123456\",\r\n            \"EndToEndIdentification\": \"abv15\",\r\n\t\t\t\"InstructionIdentification\": \"c6154\",\r\n            \"InstructedAmount\": {\r\n                \"Amount\": \"1\",\r\n                \"Code\": \"APIMP1\"\r\n            },\r\n            \"RedemptionInformation\": {\r\n                \"SupplierCode\": \"APIM\",\r\n                \"SupplierName\": \"APIM\",\r\n                \"Reference\": \"APIM Top UP - 001\",\r\n                \"Unstructured\": \"Internal ops code 5120101\"\r\n            }\r\n        }\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "https://api.nedbank.co.za/apimarket/sandbox/open-banking/reward-redemption",
									"protocol": "https",
									"host": [
										"api",
										"nedbank",
										"co",
										"za"
									],
									"path": [
										"apimarket",
										"sandbox",
										"open-banking",
										"reward-redemption"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [],
							"cookie": [],
							"body": "{\r\n    \"Data\": {\r\n        \"RewardRedemptionId\": \"134683993\",\r\n        \"Status\": \"AcceptedSettlementCompleted\",\r\n        \"CreationDateTime\": \"2021-10-29T11:27:04.816Z\",\r\n        \"RewardsAccountBalance\": \"20502418567\",\r\n        \"RandBalance\": \"0\"\r\n    }\r\n}"
						}
					]
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "client_id",
			"value": ""
		},
		{
			"key": "client_secret",
			"value": ""
		},
		{
			"key": "light_token",
			"value": ""
		},
		{
			"key": "heavy_token",
			"value": ""
		},
		{
			"key": "refresh_token",
			"value": ""
		},
		{
			"key": "account_id",
			"value": ""
		},
		{
			"key": "subscription_id",
			"value": ""
		}
	]
}